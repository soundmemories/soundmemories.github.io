<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.loli.net/css?family=Monda:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"soundmemories.github.io","root":"/","images":"/images","scheme":"Muse","darkmode":true,"version":"8.17.1","exturl":true,"sidebar":{"position":"left","display":"always","padding":18,"offset":12},"copycode":{"enable":true,"style":null},"bookmark":{"enable":true,"color":"#222","save":"auto"},"mediumzoom":true,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="I&#x2F;O I&#x2F;O：Input&#x2F;Output，常用于读、写文件、网络通讯等。 123&#x2F;&#x2F;Java中通过java.io包下的类和接口来支持。I（Input）：输入，从别的地方（文件、键盘、网络、内存等）读取数据到当前程序中。O（Output）：输出，从程序把数据输出到文件、屏幕、控制台、网络、内存等中。 文件&#x2F;目录流 java.io.File类是java.io包下代表与平台无关的文件和目录，">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaIO流">
<meta property="og:url" content="https://soundmemories.github.io/2020/03/01/Java/19.JavaIO%E6%B5%81/index.html">
<meta property="og:site_name" content="SoundMemories">
<meta property="og:description" content="I&#x2F;O I&#x2F;O：Input&#x2F;Output，常用于读、写文件、网络通讯等。 123&#x2F;&#x2F;Java中通过java.io包下的类和接口来支持。I（Input）：输入，从别的地方（文件、键盘、网络、内存等）读取数据到当前程序中。O（Output）：输出，从程序把数据输出到文件、屏幕、控制台、网络、内存等中。 文件&#x2F;目录流 java.io.File类是java.io包下代表与平台无关的文件和目录，">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://soundmemories.github.io/images/Java%E7%AE%80%E4%BB%8B%E5%92%8C%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/IO%E6%B5%81.png">
<meta property="og:image" content="https://soundmemories.github.io/images/Java%E7%AE%80%E4%BB%8B%E5%92%8C%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/IO%E6%B5%811.png">
<meta property="article:published_time" content="2020-02-29T16:00:00.000Z">
<meta property="article:modified_time" content="2024-06-07T06:29:24.123Z">
<meta property="article:author" content="SoundMemories">
<meta property="article:tag" content="Java">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://soundmemories.github.io/images/Java%E7%AE%80%E4%BB%8B%E5%92%8C%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/IO%E6%B5%81.png">


<link rel="canonical" href="https://soundmemories.github.io/2020/03/01/Java/19.JavaIO%E6%B5%81/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":"","permalink":"https://soundmemories.github.io/2020/03/01/Java/19.JavaIO%E6%B5%81/","path":"2020/03/01/Java/19.JavaIO流/","title":"JavaIO流"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>JavaIO流 | SoundMemories</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">SoundMemories</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">10</span></a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">10</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">122</span></a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#io"><span class="nav-number">1.</span> <span class="nav-text">I&#x2F;O</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95%E6%B5%81"><span class="nav-number">2.</span> <span class="nav-text">文件&#x2F;目录流</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9B%AE%E5%BD%95%E8%B7%AF%E5%BE%84"><span class="nav-number">2.1.</span> <span class="nav-text">目录&#x2F;路径</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%A4%E6%96%AD%E6%A3%80%E6%B5%8B"><span class="nav-number">2.2.</span> <span class="nav-text">判断检测</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C"><span class="nav-number">2.3.</span> <span class="nav-text">文件操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9B%AE%E5%BD%95%E6%93%8D%E4%BD%9C"><span class="nav-number">2.4.</span> <span class="nav-text">目录操作</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BD%91%E7%BB%9C%E6%B5%81"><span class="nav-number">3.</span> <span class="nav-text">网络流</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8A%BD%E8%B1%A1%E5%9F%BA%E7%B1%BB"><span class="nav-number">3.1.</span> <span class="nav-text">抽象基类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#io%E6%B5%81%E9%80%89%E5%8F%96"><span class="nav-number">3.2.</span> <span class="nav-text">IO流选取</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="nav-number">3.3.</span> <span class="nav-text">常用方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#io%E6%B5%81%E4%BD%BF%E7%94%A8"><span class="nav-number">3.4.</span> <span class="nav-text">IO流使用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E7%A4%BA%E4%BE%8B"><span class="nav-number">3.5.</span> <span class="nav-text">常用示例</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AF%BB%E7%BA%AF%E6%96%87%E6%9C%AC"><span class="nav-number">3.5.1.</span> <span class="nav-text">读纯文本</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%86%99%E7%BA%AF%E6%96%87%E6%9C%AC"><span class="nav-number">3.5.2.</span> <span class="nav-text">写纯文本</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A4%8D%E5%88%B6%E6%96%87%E4%BB%B6"><span class="nav-number">3.5.3.</span> <span class="nav-text">复制文件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A4%8D%E5%88%B6%E7%9B%AE%E5%BD%95"><span class="nav-number">3.5.4.</span> <span class="nav-text">复制目录</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BC%96%E7%A0%81%E8%A7%A3%E7%A0%81"><span class="nav-number">3.5.5.</span> <span class="nav-text">编码解码</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9F%BA%E7%A1%80%E7%B1%BB%E5%9E%8B%E5%AD%97%E8%8A%82%E6%B5%81"><span class="nav-number">3.5.6.</span> <span class="nav-text">基础类型（字节流）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AD%98%E5%82%A8%E5%AF%B9%E8%B1%A1"><span class="nav-number">3.5.7.</span> <span class="nav-text">存储对象</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#system%E7%9B%B8%E5%85%B3"><span class="nav-number">3.6.</span> <span class="nav-text">System相关</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#jdk1.7%E6%96%B0%E7%89%B9%E6%80%A7"><span class="nav-number">3.7.</span> <span class="nav-text">JDK1.7新特性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#io%E5%92%8Cnio"><span class="nav-number">3.8.</span> <span class="nav-text">IO和NIO</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="SoundMemories"
      src="/images/avstar.png">
  <p class="site-author-name" itemprop="name">SoundMemories</p>
  <div class="site-description" itemprop="description">今日事，今日毕</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">122</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">10</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">10</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3NvdW5kbWVtb3JpZXM=" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;soundmemories"><i class="fab fa-github fa-fw"></i>GitHub</span>
      </span>
      <span class="links-of-author-item">
        <span class="exturl" data-url="bWFpbHRvOnNvdW5kbWVtb3JpZXNAMTYzLmNvbQ==" title="E-Mail → mailto:soundmemories@163.com"><i class="fa fa-envelope fa-fw"></i>E-Mail</span>
      </span>
  </div>
  <div class="cc-license animated" itemprop="license">
    <span class="exturl cc-opacity" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC8="><img src="https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></span>
  </div>

        </div>
      </div>
    </div>

    
        <div class="pjax">
        </div>
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://soundmemories.github.io/2020/03/01/Java/19.JavaIO%E6%B5%81/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avstar.png">
      <meta itemprop="name" content="SoundMemories">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SoundMemories">
      <meta itemprop="description" content="今日事，今日毕">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="JavaIO流 | SoundMemories">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          JavaIO流
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-03-01 00:00:00" itemprop="dateCreated datePublished" datetime="2020-03-01T00:00:00+08:00">2020-03-01</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Java/" itemprop="url" rel="index"><span itemprop="name">Java</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>8.2k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>30 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><span id="more"></span>
<h2 id="io">I/O</h2>
<p>I/O：Input/Output，常用于读、写文件、网络通讯等。<br />
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Java中通过java.io包下的类和接口来支持。</span></span><br><span class="line">I（Input）：输入，从别的地方（文件、键盘、网络、内存等）读取数据到当前程序中。</span><br><span class="line">O（Output）：输出，从程序把数据输出到文件、屏幕、控制台、网络、内存等中。</span><br></pre></td></tr></table></figure></p>
<h2 id="文件目录流">文件/目录流</h2>
<p>java.io.File类是java.io包下代表与平台无关的文件和目录，在程序中操作文件和目录都可用File类来完成，<strong>File类能新建、删除、重命名文件和目录</strong>。</p>
<h3 id="目录路径">目录/路径</h3>
<p>目录名也可也说是路径名，File类使用<strong>文件路径字符串</strong>来创建File实例，该字符串可以是<strong>绝对路径、相对路径（默认）</strong>，默认由系统属性“user.dir”解析相对路径，通常是运行Java虚拟机时的路径。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//路径中如果出现“..”表示上一级目录，路径名如果以“/”开头，表示从“根目录”下开始导航。</span></span><br><span class="line">|-String <span class="title function_">getName</span><span class="params">()</span>：返回此File对象的所表示的文件名（返回最后一级）。</span><br><span class="line">|-String <span class="title function_">getPath</span><span class="params">()</span>：返回此File对象所对应的路径名。</span><br><span class="line">|-String <span class="title function_">getAbsolutePath</span><span class="params">()</span>：返回此File对象所对应的绝对路径名。</span><br><span class="line">|-File <span class="title function_">getAbsoluteFile</span><span class="params">()</span>：返回此File对象所对应的绝对路径名所对应的File对象。</span><br><span class="line">|-String <span class="title function_">getCanonicalPath</span><span class="params">()</span>：返回此File对象所对应的规范路径名。所谓规范路径名，即对路径中的“..”等进行解析后的路径名。</span><br><span class="line">|-File <span class="title function_">getCanonicalFile</span><span class="params">()</span>：返回此File对象所对应的规范路径名所对应的File对象。</span><br><span class="line">|-String <span class="title function_">getParent</span><span class="params">()</span>：返回此File对象的父目录名。</span><br><span class="line">|-File <span class="title function_">getParentFile</span><span class="params">()</span>：返回此File对象的父目录名所对应的File对象。</span><br><span class="line"><span class="comment">//window的路径分隔符使用“\”，而Java程序中的“\”表示转义字符，所以在Windows中表示路径，需要用“\\”。</span></span><br><span class="line"><span class="comment">//或者直接使用“/”也可以（建议使用此种方式），Java程序支持将“/”当成平台无关的路径分隔符。</span></span><br><span class="line"><span class="comment">//或者直接使用File.separator常量值表示。</span></span><br></pre></td></tr></table></figure>
<div class="tabs" id="路径"><ul class="nav-tabs"><li class="tab active"><a href="#路径-1">绝对路径</a></li><li class="tab"><a href="#路径-2">相对路径</a></li><li class="tab"><a href="#路径-3">..</a></li></ul><div class="tab-content"><div class="tab-pane active" id="路径-1"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestFile</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span> <span class="keyword">throws</span> IOException&#123;<span class="comment">//getCanonicalPath方法需throws</span></span><br><span class="line">        <span class="comment">//1.绝对路径：从根目录开始导航。下以下三种方式都可以：</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">f1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:/memories/test/IO.java&quot;</span>);<span class="comment">//建议使用这种，win和其他平台都支持</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">f1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:\\memories\\test\\IO.java&quot;</span>);</span><br><span class="line">        <span class="type">File</span> <span class="variable">f1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:&quot;</span> + File.separator + <span class="string">&quot;memories&quot;</span> + File.separator </span><br><span class="line">                            + <span class="string">&quot;test&quot;</span> + File.separator + <span class="string">&quot;IO.java&quot;</span>);</span><br><span class="line">        <span class="comment">//名称：IO.java</span></span><br><span class="line">        System.out.println(<span class="string">&quot;名称：&quot;</span> + f1.getName());</span><br><span class="line">        <span class="comment">//路径名：c:\memories\test\IO.java</span></span><br><span class="line">        System.out.println(<span class="string">&quot;路径名：&quot;</span> + f1.getPath());</span><br><span class="line">        <span class="comment">//绝对路径名：c:\memories\test\IO.java</span></span><br><span class="line">        System.out.println(<span class="string">&quot;绝对路径名：&quot;</span> + f1.getAbsolutePath());</span><br><span class="line">        <span class="comment">//规范路径名：C:\memories\test\IO.jav</span></span><br><span class="line">        System.out.println(<span class="string">&quot;规范路径名：&quot;</span> + f1.getCanonicalPath());</span><br><span class="line">        <span class="comment">//父目录名：c:\memories\test</span></span><br><span class="line">        System.out.println(<span class="string">&quot;父目录名：&quot;</span> + f1.getParent());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="路径-2"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestFile</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span> <span class="keyword">throws</span> IOException&#123;</span><br><span class="line">        <span class="comment">//2.相对路径：相对当前文件</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">f2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;IO.java&quot;</span>);<span class="comment">//会通过user.dir解析相对路径</span></span><br><span class="line">        <span class="comment">//user.dir：c:\Users\memories\Desktop\test</span></span><br><span class="line">        System.out.println(<span class="string">&quot;user.dir：&quot;</span> + System.getProperty(<span class="string">&quot;user.dir&quot;</span>));</span><br><span class="line">        <span class="comment">//名称：IO.java</span></span><br><span class="line">        System.out.println(<span class="string">&quot;名称：&quot;</span> + f2.getName());</span><br><span class="line">        <span class="comment">//路径名：IO.java</span></span><br><span class="line">        System.out.println(<span class="string">&quot;路径名：&quot;</span> + f2.getPath());</span><br><span class="line">        <span class="comment">//绝对路径名：c:\Users\memories\Desktop\test\IO.java</span></span><br><span class="line">        System.out.println(<span class="string">&quot;绝对路径名：&quot;</span> + f2.getAbsolutePath());</span><br><span class="line">        <span class="comment">//规范路径名：C:\Users\memories\Desktop\test\IO.java</span></span><br><span class="line">        System.out.println(<span class="string">&quot;规范路径名：&quot;</span> + f2.getCanonicalPath());</span><br><span class="line">        <span class="comment">//父目录名：null</span></span><br><span class="line">        System.out.println(<span class="string">&quot;父目录名：&quot;</span> + f2.getParent());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="路径-3"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestFile</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test3</span><span class="params">()</span> <span class="keyword">throws</span> IOException&#123;</span><br><span class="line">        <span class="type">File</span> <span class="variable">f3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;../../IO.java&quot;</span>);</span><br><span class="line">        <span class="comment">//user.dir：c:\Users\memories\Desktop\test</span></span><br><span class="line">        System.out.println(<span class="string">&quot;user.dir：&quot;</span> + System.getProperty(<span class="string">&quot;user.dir&quot;</span>));</span><br><span class="line">        <span class="comment">//名称：IO.java</span></span><br><span class="line">        System.out.println(<span class="string">&quot;名称：&quot;</span> + f3.getName());</span><br><span class="line">        <span class="comment">//路径名：..\..\IO.java</span></span><br><span class="line">        System.out.println(<span class="string">&quot;路径名：&quot;</span> + f3.getPath());</span><br><span class="line">        <span class="comment">//绝对路径名：c:\Users\memories\Desktop\test\..\..\IO.java</span></span><br><span class="line">        System.out.println(<span class="string">&quot;绝对路径名：&quot;</span> + f3.getAbsolutePath());</span><br><span class="line">        <span class="comment">//规范路径名：C:\Users\memories\IO.java</span></span><br><span class="line">        System.out.println(<span class="string">&quot;规范路径名：&quot;</span> + f3.getCanonicalPath());<span class="comment">//会解析掉..</span></span><br><span class="line">        <span class="comment">//父目录名：..\.</span></span><br><span class="line">        System.out.println(<span class="string">&quot;父目录名：&quot;</span> + f3.getParent());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div></div>
<h3 id="判断检测">判断检测</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">文件/目录检测：</span><br><span class="line">|-<span class="type">boolean</span> <span class="title function_">exists</span><span class="params">()</span>：判断File对象对应的文件或目录是否存在。</span><br><span class="line">|-<span class="type">boolean</span> <span class="title function_">canRead</span><span class="params">()</span>：判断File对象对应的文件或目录是否可读。</span><br><span class="line">|-<span class="type">boolean</span> <span class="title function_">canWrite</span><span class="params">()</span>：判断File对象对应的文件或目录是否可写。</span><br><span class="line">|-<span class="type">boolean</span> <span class="title function_">isHidden</span><span class="params">()</span>：判断File对象对应的文件或目录是否是否隐藏。</span><br><span class="line">|-<span class="type">boolean</span> <span class="title function_">isFile</span><span class="params">()</span>：判断File对象对应的是否是文件。</span><br><span class="line">|-<span class="type">boolean</span> <span class="title function_">isDirectory</span><span class="params">()</span>：判断File对象对应的是否是目录。</span><br><span class="line">|-<span class="type">boolean</span> <span class="title function_">isAbsolute</span><span class="params">()</span>：判断File对象对应的文件或目录是否是绝对路径。</span><br><span class="line">常规信息：</span><br><span class="line">|-<span class="type">long</span> <span class="title function_">lastModified</span><span class="params">()</span>：返回File对象对应的文件或目录的最后修改时间（毫秒值）。</span><br><span class="line">|-<span class="type">long</span> <span class="title function_">length</span><span class="params">()</span>：返回File对象对应的文件的内容的长度（字节数）。</span><br><span class="line">    |-如果File对象对应的是目录，则返回目录下面的所有的文件大小累加和。</span><br><span class="line">    |-如果File对象对应的文件或目录不存在，返回对应属性的默认值。</span><br></pre></td></tr></table></figure>
<div class="tabs" id="检测"><ul class="nav-tabs"><li class="tab active"><a href="#检测-1">文件/目录检测</a></li><li class="tab"><a href="#检测-2">常规信息</a></li></ul><div class="tab-content"><div class="tab-pane active" id="检测-1"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:/Users/memories/Desktop/test/IO.java&quot;</span>);</span><br><span class="line">        System.out.println(file.exists());<span class="comment">//true</span></span><br><span class="line">        System.out.println(file.canRead());<span class="comment">//true</span></span><br><span class="line">        System.out.println(file.canWrite());<span class="comment">//true</span></span><br><span class="line">        System.out.println(file.isHidden());<span class="comment">//false</span></span><br><span class="line">        System.out.println(file.isFile());<span class="comment">//true</span></span><br><span class="line">        System.out.println(file.isDirectory());<span class="comment">//false</span></span><br><span class="line">        System.out.println(file.isAbsolute());<span class="comment">//true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="检测-2"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:/Users/memories/Desktop/test/IO.java&quot;</span>);</span><br><span class="line">        <span class="type">SimpleDateFormat</span> <span class="variable">sf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">&quot;yyyy-MM-dd HH:mm:ss SSS&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">long</span> <span class="variable">time</span> <span class="operator">=</span> file.lastModified();</span><br><span class="line">        <span class="type">String</span> <span class="variable">format</span> <span class="operator">=</span> sf.format(<span class="keyword">new</span> <span class="title class_">Date</span>(time));<span class="comment">//SimpleDateFormat的format方法只支持Date对象</span></span><br><span class="line">        System.out.println(<span class="string">&quot;最后修改时间：&quot;</span> + format);<span class="comment">//最后修改时间：2020-03-01 10:23:40 646</span></span><br><span class="line">        System.out.println(<span class="string">&quot;文件大小：&quot;</span> + file.length());<span class="comment">//文件大小：246</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div></div>
<h3 id="文件操作">文件操作</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">创建文件：</span><br><span class="line">|-<span class="type">boolean</span> <span class="title function_">createNewFile</span><span class="params">()</span>：File实例调用，创建指定的文件。</span><br><span class="line">    |-如果指定的文件不存在、并成功创建，则返回 <span class="literal">true</span>；</span><br><span class="line">    |-如果指定的文件已经存在，则返回 <span class="literal">false</span>。</span><br><span class="line">|-File <span class="title function_">createTempFile</span><span class="params">(String prefix, String suffix)</span>：在默认临时文件目录中创建一个空文件，使用给定前缀和后缀生成其名称。</span><br><span class="line">    |-prefix：前缀字符串，必须至少三个字符。</span><br><span class="line">    |-suffix：后缀字符串，如果为 <span class="literal">null</span>，则使用默认值 <span class="string">&quot;.tmp&quot;</span> 。</span><br><span class="line">|-File <span class="title function_">createTempFile</span><span class="params">(String prefix, String suffix, File directory)</span>：在指定目录中创建一个新的空文件，同上。</span><br><span class="line">    |-prefix：前缀字符串，必须至少三个字符。</span><br><span class="line">    |-suffix：后缀字符串，如果为 <span class="literal">null</span>，会使用默认值 <span class="string">&quot;.tmp&quot;</span> 。</span><br><span class="line">    |-directory：文件所在的目录，如果为 <span class="literal">null</span>，会使用默认临时文件目录。</span><br><span class="line">删除文件：</span><br><span class="line">|-<span class="type">boolean</span> <span class="title function_">delete</span><span class="params">()</span>：当且仅当成功删除文件时，返回 <span class="literal">true</span>；否则返回 <span class="literal">false</span>。</span><br><span class="line">|-<span class="keyword">void</span> <span class="title function_">deleteOnExit</span><span class="params">()</span>：当退出JVM时删除文件，一般用于删除临时文件，建议配合createTempFile方法使用。</span><br><span class="line">重命名、移动：</span><br><span class="line">|-<span class="type">boolean</span> <span class="title function_">renameTo</span><span class="params">(File dest)</span>：重命名、移动文件（在同一文件系统下）。</span><br><span class="line">    |-dest：File对象，表示文件的目标路径、新名字。</span><br><span class="line">    |-如果文件被成功重命名、移动，则返回 <span class="literal">true</span>；否则，返回 <span class="literal">false</span>。</span><br></pre></td></tr></table></figure>
<div class="tabs" id="文件操作"><ul class="nav-tabs"><li class="tab active"><a href="#文件操作-1">创建文件</a></li><li class="tab"><a href="#文件操作-2">删除文件</a></li><li class="tab"><a href="#文件操作-3">重命名、移动</a></li></ul><div class="tab-content"><div class="tab-pane active" id="文件操作-1"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException&#123;</span><br><span class="line">        <span class="comment">//创建文件</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:/Users/memories/Desktop/test/IO.java&quot;</span>);</span><br><span class="line">        System.out.println(file.createNewFile());<span class="comment">//true</span></span><br><span class="line">        <span class="comment">//创建临时文件</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">tempFile</span> <span class="operator">=</span> File.createTempFile(<span class="string">&quot;Hello&quot;</span>, <span class="literal">null</span>);</span><br><span class="line">        <span class="comment">//C:\Users\memories\AppData\Local\Temp\Hello13570132848344702261.tmp</span></span><br><span class="line">        System.out.println(tempFile.getAbsolutePath());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="文件操作-2"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException&#123;</span><br><span class="line">        <span class="comment">//删除文件</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:/Users/memories/Desktop/test/IO.java&quot;</span>);</span><br><span class="line">        System.out.println(file.delete());<span class="comment">//true</span></span><br><span class="line">        <span class="comment">//删除临时文件</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">tempFile</span> <span class="operator">=</span> File.createTempFile(<span class="string">&quot;Hello&quot;</span>, <span class="literal">null</span>);</span><br><span class="line">        tempFile.deleteOnExit();<span class="comment">//无返回值</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="文件操作-3"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException&#123;</span><br><span class="line">        <span class="comment">//以下都是单独执行的结果</span></span><br><span class="line">        <span class="comment">//重命名</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">src</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:/Users/memories/Desktop/test/IO.java&quot;</span>);</span><br><span class="line">        <span class="type">File</span> <span class="variable">dest</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:/Users/memories/Desktop/test/destIO.java&quot;</span>);</span><br><span class="line">        System.out.println(src.renameTo(dest));<span class="comment">//true</span></span><br><span class="line">        <span class="comment">//移动</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">src</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:/Users/memories/Desktop/test/IO.java&quot;</span>);</span><br><span class="line">        <span class="type">File</span> <span class="variable">dest</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:/Users/memories/Desktop/test/dest/IO.java&quot;</span>);</span><br><span class="line">        System.out.println(src.renameTo(dest));<span class="comment">//true</span></span><br><span class="line">        <span class="comment">//移动+重命名</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">src</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:/Users/memories/Desktop/test/IO.java&quot;</span>);</span><br><span class="line">        <span class="type">File</span> <span class="variable">dest</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:/Users/memories/Desktop/test/dest/destIO.java&quot;</span>);</span><br><span class="line">        System.out.println(src.renameTo(dest));<span class="comment">//true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div></div>
<h3 id="目录操作">目录操作</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">创建目录：</span><br><span class="line">|-<span class="type">boolean</span> <span class="title function_">mkdir</span><span class="params">()</span>：必须确保父目录存在，否则创建失败。</span><br><span class="line">|-<span class="type">boolean</span> <span class="title function_">mkdirs</span><span class="params">()</span>：如果父目录链不存在，会一同创建父目录链。</span><br><span class="line">列出目录、文件：</span><br><span class="line">|-String[] list()：列出当前目录的下级目录或文件的名称。</span><br><span class="line">|-File[] listFiles()：列出当前目录的下级的目录或文件对应的File对象。配合递归可以列出下级的下级等。</span><br><span class="line">|-File[] listFiles(FileFilter filter)：返回所有满足指定过滤器的文件和目录。</span><br><span class="line">    |-如果filter为<span class="literal">null</span>，则接受所有路径名。</span><br><span class="line">    |-如果filter不为<span class="literal">null</span>，那么只有FileFilter.accept(java.io.File)方法返回<span class="literal">true</span>时，该路径名才满足过滤器。</span><br><span class="line">    |-如果当前File对象不表示一个目录，或者发生I/O错误，则返回<span class="literal">null</span>。</span><br><span class="line">|-File[] listFiles(FilenameFilter filter)：返回所有满足指定过滤器的文件和目录。</span><br><span class="line">    |-如果filter为<span class="literal">null</span>，则接受所有路径名。</span><br><span class="line">    |-如果filter不为<span class="literal">null</span>，那么只有FilenameFilter.accept(java.io.File, java.lang.String)方法返回<span class="literal">true</span>时，该路径名才满足过滤器。</span><br><span class="line">    |-如果当前File对象不表示一个目录，或者发生I/O错误，则返回<span class="literal">null</span>。</span><br><span class="line">|-File[] listRoots()：列出可用的文件系统根。</span><br><span class="line">删除目录：</span><br><span class="line">|-<span class="type">boolean</span> <span class="title function_">delete</span><span class="params">()</span>：只能删除空目录。否则需要先将目录下的所有内容删除才能将该目录删除。</span><br><span class="line">重命名目录：</span><br><span class="line">|-<span class="type">boolean</span> <span class="title function_">renameTo</span><span class="params">(File dest)</span>：如果是windows目录，只能在同一个盘下，不能从D盘移动到E盘。</span><br></pre></td></tr></table></figure>
<div class="tabs" id="目录操作"><ul class="nav-tabs"><li class="tab active"><a href="#目录操作-1">创建目录</a></li><li class="tab"><a href="#目录操作-2">自定义列出目录、文件</a></li><li class="tab"><a href="#目录操作-3">目录总大小</a></li><li class="tab"><a href="#目录操作-4">目录过滤器</a></li><li class="tab"><a href="#目录操作-5">删除目录</a></li><li class="tab"><a href="#目录操作-6">重命名</a></li></ul><div class="tab-content"><div class="tab-pane active" id="目录操作-1"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException&#123;</span><br><span class="line">        <span class="type">File</span> <span class="variable">dir</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:/Users/memories/Desktop/test/dest&quot;</span>);</span><br><span class="line">        System.out.println(dir.mkdir());<span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">        <span class="type">File</span> <span class="variable">dir</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:/Users/memories/Desktop/test/dest1/dest2&quot;</span>);<span class="comment">//dest2父目录没有也会被创建</span></span><br><span class="line">        System.out.println(dir.mkdirs());<span class="comment">//true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="目录操作-2"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException&#123;</span><br><span class="line">        <span class="type">File</span> <span class="variable">dir</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:/Users/memories/Desktop/test&quot;</span>);</span><br><span class="line">        listSubFiles(dir);<span class="comment">//列出test下所有目录、文件</span></span><br><span class="line">        <span class="comment">// c:\Users\memories\Desktop\test\.vscode\launch.json</span></span><br><span class="line">        <span class="comment">// c:\Users\memories\Desktop\test\.vscode</span></span><br><span class="line">        <span class="comment">// c:\Users\memories\Desktop\test\dest</span></span><br><span class="line">        <span class="comment">// c:\Users\memories\Desktop\test\dest1\dest2</span></span><br><span class="line">        <span class="comment">// c:\Users\memories\Desktop\test\dest1</span></span><br><span class="line">        <span class="comment">// c:\Users\memories\Desktop\test\Test.class</span></span><br><span class="line">        <span class="comment">// c:\Users\memories\Desktop\test\Test.java</span></span><br><span class="line">        <span class="comment">// c:\Users\memories\Desktop\test</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">listSubFiles</span><span class="params">(File dir)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (dir != <span class="literal">null</span> &amp;&amp; dir.isDirectory()) &#123;</span><br><span class="line">            File[] listFiles = dir.listFiles();<span class="comment">//得到当前目录下所有File对象</span></span><br><span class="line">            <span class="keyword">if</span> (listFiles != <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">for</span> (File sub : listFiles) &#123;</span><br><span class="line">                    listSubFiles(sub);<span class="comment">//递归</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(dir);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="目录操作-3"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException&#123;</span><br><span class="line">        <span class="type">File</span> <span class="variable">dir</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:/Users/memories/Desktop/test&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;大小：&quot;</span> + getLength(dir));<span class="comment">//大小：3275</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">long</span> <span class="title function_">getLength</span><span class="params">(File dir)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (dir != <span class="literal">null</span> &amp;&amp; dir.isDirectory()) &#123;</span><br><span class="line">            File[] listFiles = dir.listFiles();</span><br><span class="line">            <span class="keyword">if</span>(listFiles != <span class="literal">null</span>)&#123;</span><br><span class="line">                <span class="type">long</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">for</span> (File sub : listFiles) &#123;</span><br><span class="line">                    sum += getLength(sub);<span class="comment">//递归</span></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> sum;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(dir != <span class="literal">null</span> &amp;&amp; dir.isFile())&#123;</span><br><span class="line">            <span class="keyword">return</span> dir.length();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="目录操作-4"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FilenameFilter;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException&#123;</span><br><span class="line">        <span class="type">File</span> <span class="variable">dir</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:/Users/memories/Desktop/test&quot;</span>);</span><br><span class="line">        listByFileFilter(dir);<span class="comment">//c:\Users\memories\Desktop\test\Test.java</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//列出目录、子目录下所有的.java文件</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">listByFileFilter</span><span class="params">(File file)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (file != <span class="literal">null</span> &amp;&amp; file.isDirectory()) &#123;</span><br><span class="line">            File[] listFiles = file.listFiles(<span class="keyword">new</span> <span class="title class_">FilenameFilter</span>() &#123;</span><br><span class="line">                <span class="comment">//重写accept方法，返回true是要保留的，那么.java和子目录都是要保留的</span></span><br><span class="line">                <span class="comment">//dir当前目录，name文件的名称</span></span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">accept</span><span class="params">(File dir, String name)</span> &#123;</span><br><span class="line">                    <span class="keyword">return</span> name.endsWith(<span class="string">&quot;.java&quot;</span>) || <span class="keyword">new</span> <span class="title class_">File</span>(dir,name).isDirectory();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">            <span class="keyword">if</span> (listFiles != <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">for</span> (File sub : listFiles) &#123;</span><br><span class="line">                    <span class="keyword">if</span>(sub.isFile())&#123;</span><br><span class="line">                        System.out.println(sub);</span><br><span class="line">                    &#125;</span><br><span class="line">                    listByFileFilter(sub);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="目录操作-5"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException&#123;</span><br><span class="line">        <span class="type">File</span> <span class="variable">dir</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:/Users/memories/Desktop/test&quot;</span>);</span><br><span class="line">        forceDeleteDir(dir);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">forceDeleteDir</span><span class="params">(File dir)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (dir != <span class="literal">null</span> &amp;&amp; dir.isDirectory()) &#123;</span><br><span class="line">            File[] listFiles = dir.listFiles();</span><br><span class="line">            <span class="keyword">if</span>(listFiles!=<span class="literal">null</span>)&#123;</span><br><span class="line">                <span class="keyword">for</span> (File sub : listFiles) &#123;</span><br><span class="line">                    forceDeleteDir(sub);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        dir.delete();<span class="comment">//删除目录</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="目录操作-6"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException&#123;</span><br><span class="line">        <span class="comment">//重命名</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">dir</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:/Users/memories/Desktop/test/dest&quot;</span>);</span><br><span class="line">        <span class="type">File</span> <span class="variable">dest</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:/Users/memories/Desktop/test/dest1&quot;</span>);</span><br><span class="line">        System.out.println(dir.renameTo(dest));<span class="comment">//true</span></span><br><span class="line">        <span class="comment">// 移动</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">dir</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:/Users/memories/Desktop/test/dest&quot;</span>);</span><br><span class="line">        <span class="type">File</span> <span class="variable">dest</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:/Users/memories/Desktop/dest&quot;</span>);</span><br><span class="line">        System.out.println(dir.renameTo(dest));<span class="comment">//true</span></span><br><span class="line">        <span class="comment">//重命名+移动</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">dir</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:/Users/memories/Desktop/test/dest&quot;</span>);</span><br><span class="line">        <span class="type">File</span> <span class="variable">dest</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:/Users/memories/Desktop/dest1&quot;</span>);</span><br><span class="line">        System.out.println(dir.renameTo(dest));<span class="comment">//true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div></div>
<h2 id="网络流">网络流</h2>
<h3 id="抽象基类">抽象基类</h3>
<p>I/O操作不仅仅是针对文件、目录，它可以从网络中输入和输出，其流类型如下：<br />
<img src="/images/Java简介和环境搭建/IO流.png" width="50%"><br />
<img src="/images/Java简介和环境搭建/IO流1.png" width="60%"></p>
<p>最基本的网络IO流只有四个，它们是网络IO流的超级父类，抽象基类：<br />
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">字节输入流：InputStream</span><br><span class="line">字节输出流：OutputStream</span><br><span class="line">字符输入流：Reader</span><br><span class="line">字符输出流：Writer</span><br></pre></td></tr></table></figure></p>
<h3 id="io流选取">IO流选取</h3>
<p>Java的IO流是单向的，只能从输入流（Input、Reader）中读取（read）数据，也只能往输出流（Output、Writer）中写（write、print）出数据。<br />
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//I/O流类的设计选用了装饰者设计模式（也叫包装模式），即IO流分为两大类：“被装饰”的组件（主功能）、“装饰”的组件（辅助功能）。</span></span><br><span class="line">角色：</span><br><span class="line">|-节点流：连接源头、目的地，是被装饰者。</span><br><span class="line">|-处理流：增强功能，提高性能，是装饰者。</span><br><span class="line">节点流是主主功能，处理流是辅助功能，处理流为节点流包装而不能单独存在。</span><br><span class="line">处理数据：</span><br><span class="line">|-字节流：一个字节一个字节处理，直接处理二进制，它<span class="string">&quot;适用于一切数据&quot;</span>，包括纯文本、图片、音频、视频等等。</span><br><span class="line">|-字符流：一个字符一个字符处理，<span class="string">&quot;只能纯文本类的数据&quot;</span>。</span><br></pre></td></tr></table></figure></p>
<h3 id="常用方法">常用方法</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">|-InputStream</span><br><span class="line">    |-<span class="type">int</span> <span class="title function_">read</span><span class="params">()</span>：从输入流中读取数据的下一个字节。只要有输入流就一直读取，如果到达流末尾没有可用的字节，则返回值-<span class="number">1</span>。范围[<span class="number">0</span>, <span class="number">255</span>]。</span><br><span class="line">    |-<span class="type">int</span> <span class="title function_">read</span><span class="params">(<span class="type">byte</span>[] b)</span>：将最多b.length个字节的数据读入一个<span class="type">byte</span>数组中。如果到达流末尾没有可用的字节，则返回值-<span class="number">1</span>。</span><br><span class="line">    |-<span class="type">int</span> <span class="title function_">read</span><span class="params">(<span class="type">byte</span>[] b,<span class="type">int</span> off,<span class="type">int</span> len)</span>：将最多len个数据字节读入<span class="type">byte</span>数组。</span><br><span class="line">        |-尝试读取len个字节，因字节不够len，所以读取的字节也可能小于该值。</span><br><span class="line">        |-如果到达流末尾没有可用的字节，则返回值-<span class="number">1</span>。</span><br><span class="line">    |-<span class="keyword">void</span> <span class="title function_">close</span><span class="params">()</span>：关闭此输入流并释放与该流关联的所有系统资源。</span><br><span class="line">|-OutputStream</span><br><span class="line">    |-<span class="keyword">void</span> <span class="title function_">write</span><span class="params">(<span class="type">int</span> b)</span>：将指定的字节写入此输出流。范围[<span class="number">0</span>, <span class="number">255</span>]。</span><br><span class="line">        |-write常规协定：是向输出流写入一个字节。要写入的字节是参数b的八个低位。b的<span class="number">24</span>个高位将被忽略。</span><br><span class="line">    |-<span class="keyword">void</span> <span class="title function_">write</span><span class="params">(<span class="type">byte</span>[] b)</span>：将b.length个字节从指定的<span class="type">byte</span>数组写入此输出流。</span><br><span class="line">        |-write常规协定：应该与调用write(b, <span class="number">0</span>, b.length)的效果完全相同。</span><br><span class="line">    |-<span class="keyword">void</span> <span class="title function_">write</span><span class="params">(<span class="type">byte</span>[] b,<span class="type">int</span> off,<span class="type">int</span> len)</span>：将指定<span class="type">byte</span>数组中从偏移量off开始的len个字节写入此输出流。</span><br><span class="line">    |-<span class="keyword">void</span> <span class="title function_">flush</span><span class="params">()</span>：刷新此输出流并强制写出所有缓冲的输出字节，调用此方法指示应将这些字节立即写入它们预期的目标。</span><br><span class="line">    |-<span class="keyword">void</span> <span class="title function_">close</span><span class="params">()</span>：关闭此输出流并释放与该流关联的所有系统资源。 </span><br><span class="line">|-Reader</span><br><span class="line">    |-<span class="type">int</span> <span class="title function_">read</span><span class="params">()</span>：读取单个字符。返回字符的Unicode值，只要有输入流就一直读取，如果已到达流的末尾，则返回-<span class="number">1</span>。范围[<span class="number">0</span>, <span class="number">65535</span>]。</span><br><span class="line">    |-<span class="type">int</span> <span class="title function_">read</span><span class="params">(<span class="type">char</span>[] cbuf)</span>：将字符读入数组。返回本次读取的字符数，如果已到达流的末尾，则返回-<span class="number">1</span>。</span><br><span class="line">    |-<span class="type">int</span> <span class="title function_">read</span><span class="params">(<span class="type">char</span>[] cbuf,<span class="type">int</span> off,<span class="type">int</span> len)</span>：将字符读入数组的某一部分。</span><br><span class="line">        |-从off处开始，最多读len个字符，存到数组cbuf中。</span><br><span class="line">        |-返回本次读取的字符数，如果已到达流的末尾，则返回-<span class="number">1</span>。</span><br><span class="line">    |-<span class="keyword">void</span> <span class="title function_">close</span><span class="params">()</span>：关闭此输入流并释放与该流关联的所有系统资源。</span><br><span class="line">|-Writer</span><br><span class="line">    |-<span class="keyword">void</span> <span class="title function_">write</span><span class="params">(<span class="type">int</span> c)</span>、Writer <span class="title function_">append</span><span class="params">(<span class="type">char</span> c)</span>：写入单个字符。</span><br><span class="line">        |-要写入的字符包含在给定整数值的<span class="number">16</span>个低位中，<span class="number">16</span>个高位被忽略。 即写入[<span class="number">0</span>, <span class="number">65535</span>]的Unicode码。</span><br><span class="line">    |-<span class="keyword">void</span> <span class="title function_">write</span><span class="params">(<span class="type">char</span>[] cbuf)</span>：写入字符数组。</span><br><span class="line">        |-Writer <span class="title function_">append</span><span class="params">(CharSequence csq)</span>：写入字符数组。 </span><br><span class="line">    |-<span class="keyword">void</span> <span class="title function_">write</span><span class="params">(<span class="type">char</span>[] cbuf,<span class="type">int</span> off,<span class="type">int</span> len)</span>：写入字符数组的某一部分。</span><br><span class="line">        |-Writer <span class="title function_">append</span><span class="params">(CharSequence csq,<span class="type">int</span> start,<span class="type">int</span> end)</span>：写入字符数组的某一部分。</span><br><span class="line">    |-<span class="keyword">void</span> <span class="title function_">write</span><span class="params">(String str)</span>：写入字符串。 </span><br><span class="line">    |-<span class="keyword">void</span> <span class="title function_">write</span><span class="params">(String str,<span class="type">int</span> off,<span class="type">int</span> len)</span>：写入字符串的某一部分。</span><br><span class="line">    |-<span class="keyword">void</span> <span class="title function_">flush</span><span class="params">()</span>：刷新该流的缓冲，则立即将它们写入预期目标。</span><br><span class="line">    |-<span class="keyword">void</span> <span class="title function_">close</span><span class="params">()</span>：关闭此输出流并释放与该流关联的所有系统资源。 </span><br></pre></td></tr></table></figure>
<h3 id="io流使用">IO流使用</h3>
<p>1.读取数据的步骤：<br />
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">|-准备</span><br><span class="line">    |-明确数据类型：纯文本选字符流，否则选字节流。</span><br><span class="line">    |-节点流：根据数据源选择主功能。</span><br><span class="line">        |-如果从文件中：FileInputStream、FileReader。</span><br><span class="line">        |-如果从内存的数组中：ByteArrayInputStream、CharArrayReader。</span><br><span class="line">        |-如果从网络中：InputStream。</span><br><span class="line">    |-处理流：根据主功能选择辅助功能。</span><br><span class="line">        |-缓冲功能：BufferedReader、BufferedInputStream。</span><br><span class="line">        |-按行读：BufferedReader、Scanner。</span><br><span class="line">        |-从输入流中读取基本Java数据类型：DataInputStream。</span><br><span class="line">        |-对象的反序列化：ObjectInputStream。</span><br><span class="line">        |-对流中的数据进行解码或转换：InputStreamReader。</span><br><span class="line">|-读取方式：以read、readXxx方法为主，readInt()，readObject()，readUTF()等。</span><br><span class="line">    |-Reader.read()：读取单个字符，只要有输入流就一直读取，达流的末尾，则返回-<span class="number">1</span>。</span><br><span class="line">    |-BufferedReader.readLine()：读取行数据，遇到换行符<span class="string">&quot;\n&quot;</span>、<span class="string">&quot;\r&quot;</span>换行，返回值不包含终止符，到达末尾返回<span class="literal">null</span>。</span><br><span class="line">|-关闭close()。</span><br></pre></td></tr></table></figure></p>
<p>2、写数据的步骤：<br />
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">|-准备</span><br><span class="line">    |-明确数据类型：纯文本选字符流，否则选字节流。</span><br><span class="line">    |-节点流：根据数据源选择主功能。</span><br><span class="line">        |-如果写到文件中：FileOutputStream、FileWriter。</span><br><span class="line">        |-如果写到内存的数组中：ByteArrayOutputStream、CharArrayWriter。</span><br><span class="line">        |-如果写到网络中：OutputStream。</span><br><span class="line">    |-处理流：根据主功能选择辅助功能。</span><br><span class="line">        |-缓冲功能：BufferedOutputStream、BufferedWriter。</span><br><span class="line">        |-按行写：PrintStream、PrintWriter。</span><br><span class="line">        |-将基本Java数据类型写入输出流：DataInputStream。</span><br><span class="line">        |-对象的反序列化：ObjectInputStream。</span><br><span class="line">        |-对流中的数据进行编码或转换：OutputStreamWriter。</span><br><span class="line">|-读取方式：以write、writeXxx方法为主，writeInt()，writeDouble()，writeObject()等。</span><br><span class="line">    |-Writer.write()：写入单个字符。</span><br><span class="line">|-关闭close()。</span><br></pre></td></tr></table></figure></p>
<h3 id="常用示例">常用示例</h3>
<h4 id="读纯文本">读纯文本</h4>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//读取文件时，必须保证该文件已存在，否则出异常。</span></span><br><span class="line">|-字节流：</span><br><span class="line">    |-FileInputStream：文件<span class="string">&quot;字节&quot;</span>输入流，可以读取任意类型的文件。</span><br><span class="line">    |-BufferedInputStream：<span class="string">&quot;字节&quot;</span>输入缓冲流，给InputStream系列增加缓冲效果。</span><br><span class="line">|-字符流（注意编码）：</span><br><span class="line">    |-FileReader：文件<span class="string">&quot;字符&quot;</span>输入流，只能读取纯文本的文件，按照平台默认的字符编码进行解码。</span><br><span class="line">    |-BufferedReader：<span class="string">&quot;字符&quot;</span>输入缓冲流，从字符输入流中读取文本，缓冲字符以提供高效读取，给Reader系列增加缓冲效果。</span><br></pre></td></tr></table></figure>
<div class="tabs" id="testfilereader"><ul class="nav-tabs"><li class="tab active"><a href="#testfilereader-1">基本读取</a></li><li class="tab"><a href="#testfilereader-2">按行读取</a></li></ul><div class="tab-content"><div class="tab-pane active" id="testfilereader-1"><figure class="highlight java"><figcaption><span>TestFileReader.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.FileReader;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="comment">//读取message.txt文件中的内容（今天气温不错）</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestFileReader</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">FileReader</span> <span class="variable">fr</span> <span class="operator">=</span> <span class="literal">null</span>;<span class="comment">//纯文本用FileReader</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            fr = <span class="keyword">new</span> <span class="title class_">FileReader</span>(<span class="string">&quot;message.txt&quot;</span>);</span><br><span class="line">            <span class="type">char</span>[] data = <span class="keyword">new</span> <span class="title class_">char</span>[<span class="number">5</span>];<span class="comment">//存储字符的数组</span></span><br><span class="line">            <span class="type">int</span> len;</span><br><span class="line">            <span class="keyword">while</span>((len = fr.read(data)) != -<span class="number">1</span>)&#123;<span class="comment">//读取字符到data数组，判断字符数量是否合理</span></span><br><span class="line">                <span class="comment">//写len是保证读到新读取字符结束，不写最后一次会把上一次的也字符输出</span></span><br><span class="line">                System.out.println(<span class="keyword">new</span> <span class="title class_">String</span>(data,<span class="number">0</span>,len));<span class="comment">//今天气温不、错</span></span><br><span class="line">                System.out.println(data);<span class="comment">//今天气温不、错天气温不</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                fr.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;&#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="testfilereader-2"><figure class="highlight java"><figcaption><span>TestBufferedReader.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.FileReader;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestBufferedReader</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">BufferedReader</span> <span class="variable">br</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            br = <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">FileReader</span>(<span class="string">&quot;message.txt&quot;</span>));</span><br><span class="line">            String str;</span><br><span class="line">            <span class="keyword">while</span>((str = br.readLine()) != <span class="literal">null</span>)&#123;<span class="comment">//按行读取</span></span><br><span class="line">                System.out.println(str);<span class="comment">//今天气温不错</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                br.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;&#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div></div>
<h4 id="写纯文本">写纯文本</h4>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//写入文件时，如果目录下有同名文件将被覆盖，除非是追加模式。</span></span><br><span class="line">|-字节流：</span><br><span class="line">    |-FileOutputStream：文件<span class="string">&quot;字节&quot;</span>输出流，可以把字节数据输出到任意类型的文件。</span><br><span class="line">    |-BufferedOutputStream：<span class="string">&quot;字节&quot;</span>输出缓冲流，给OutputStream系列增加缓冲效果。</span><br><span class="line">    |-PrintStream：<span class="string">&quot;字节&quot;</span>打印流，打印的所有字符都使用平台的默认字符编码转换为字节。</span><br><span class="line">|-字符流（注意编码）：</span><br><span class="line">    |-FileWriter：文件<span class="string">&quot;字符&quot;</span>输出流，只能把字符数据输出到纯文本文件。按照平台默认的字符编码进行编码。</span><br><span class="line">    |-BufferedWriter：<span class="string">&quot;字符&quot;</span>字符输出缓冲流，将文本写入字符输出流中，缓冲字符提高写入效率，给Writer系列增加缓冲效果。</span><br><span class="line">    |-PrintWriter：<span class="string">&quot;字符&quot;</span>打印流，可以指定字符编码。</span><br></pre></td></tr></table></figure>
<div class="tabs" id="testfilewriter"><ul class="nav-tabs"><li class="tab active"><a href="#testfilewriter-1">基本输出</a></li><li class="tab"><a href="#testfilewriter-2">按行输出</a></li></ul><div class="tab-content"><div class="tab-pane active" id="testfilewriter-1"><figure class="highlight java"><figcaption><span>TestFileWriter.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.FileWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="keyword">import</span> java.nio.charset.Charset;</span><br><span class="line"><span class="keyword">import</span> java.nio.charset.StandardCharsets;</span><br><span class="line"><span class="comment">//从键盘输入，保存到message.txt文件中</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestFileWriter</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//终端输入按照&quot;UTF-8&quot;解码（如果和平台编码不一致会乱码）</span></span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">input</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in,<span class="string">&quot;UTF8&quot;</span>);</span><br><span class="line">        <span class="type">FileWriter</span> <span class="variable">fw</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//编码指定也可以用Charset.forName(&quot;UTF-8&quot;)/StandardCharsets.UTF_8。</span></span><br><span class="line">            <span class="comment">//默认覆盖模式，true表示追加模式。</span></span><br><span class="line">            fw = <span class="keyword">new</span> <span class="title class_">FileWriter</span>(<span class="string">&quot;message.txt&quot;</span>, Charset.forName(<span class="string">&quot;UTF8&quot;</span>), <span class="literal">true</span>);</span><br><span class="line">            <span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;请输入：&quot;</span>);</span><br><span class="line">                <span class="type">String</span> <span class="variable">message</span> <span class="operator">=</span> input.nextLine();</span><br><span class="line">                <span class="keyword">if</span>(<span class="string">&quot;stop&quot;</span>.equals(message))&#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                fw.write(message);</span><br><span class="line">                System.out.println(<span class="string">&quot;结束请输入stop&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span>&#123;</span><br><span class="line">            input.close();</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                fw.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;&#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="testfilewriter-2"><figure class="highlight java"><figcaption><span>TestPrintWriter.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="keyword">import</span> java.nio.charset.Charset;</span><br><span class="line"><span class="keyword">import</span> java.nio.charset.StandardCharsets;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestPrintWriter</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">input</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in, <span class="string">&quot;UTF8&quot;</span>);</span><br><span class="line">        <span class="type">PrintWriter</span> <span class="variable">pw</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            pw = <span class="keyword">new</span> <span class="title class_">PrintWriter</span>(<span class="string">&quot;message.txt&quot;</span>, Charset.forName(<span class="string">&quot;UTF8&quot;</span>));</span><br><span class="line">            <span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;请输入：&quot;</span>);</span><br><span class="line">                <span class="type">String</span> <span class="variable">message</span> <span class="operator">=</span> input.nextLine();</span><br><span class="line">                <span class="keyword">if</span>(<span class="string">&quot;stop&quot;</span>.equals(message))&#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                pw.println(message);<span class="comment">//写入文件</span></span><br><span class="line">                System.out.println(<span class="string">&quot;结束请输入stop&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span>&#123;</span><br><span class="line">            input.close();</span><br><span class="line">            pw.close();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div></div>
<h4 id="复制文件">复制文件</h4>
<div class="tabs" id="testcopy"><ul class="nav-tabs"><li class="tab active"><a href="#testcopy-1">基本版</a></li><li class="tab"><a href="#testcopy-2">提升效率版</a></li></ul><div class="tab-content"><div class="tab-pane active" id="testcopy-1"><figure class="highlight java"><figcaption><span>TestCopy.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="comment">//提示：使用缓冲流，可以提高效率。缓冲流的默认缓冲区大小是8192字节/字符。</span></span><br><span class="line"><span class="comment">//将文件”memories/file/1.jpg”复制到”memories/img/1.jpg”</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestCopy</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            copyFile(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;memories/file/1.jpg&quot;</span>), <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;memories/img/1.jpg&quot;</span>));</span><br><span class="line">            System.out.println(<span class="string">&quot;文件复制成功&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;文件复制失败&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">copyFile</span><span class="params">(File src, File dest)</span> <span class="keyword">throws</span> IOException&#123;</span><br><span class="line">        <span class="keyword">if</span>(!src.isFile())&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(src.getPath() + <span class="string">&quot;不存在&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">FileInputStream</span> <span class="variable">fis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(src);<span class="comment">//字节输入流</span></span><br><span class="line">        <span class="type">FileOutputStream</span> <span class="variable">fos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(dest);<span class="comment">//字节输出流</span></span><br><span class="line">        <span class="type">byte</span>[] data = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="type">int</span> len;</span><br><span class="line">        <span class="keyword">while</span>((len = fis.read(data))!=-<span class="number">1</span>)&#123;<span class="comment">//输入</span></span><br><span class="line">            fos.write(data, <span class="number">0</span>, len);<span class="comment">//输出</span></span><br><span class="line">        &#125;</span><br><span class="line">        fos.close();</span><br><span class="line">        fis.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="testcopy-2"><figure class="highlight java"><figcaption><span>TestBufferedCopy.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.BufferedInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.BufferedOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestBufferedCopy</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            copyFileInHighSpeed(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;memories/file/1.jpg&quot;</span>), <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;memories/img/1.jpg&quot;</span>));</span><br><span class="line">            System.out.println(<span class="string">&quot;文件复制成功&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;文件复制失败&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">copyFileInHighSpeed</span><span class="params">(File src, File dest)</span> <span class="keyword">throws</span> IOException&#123;</span><br><span class="line">        <span class="keyword">if</span>(!src.isFile())&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(src.getPath() + <span class="string">&quot;不存在&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">BufferedInputStream</span> <span class="variable">bis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedInputStream</span>(<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(src));</span><br><span class="line">        <span class="type">BufferedOutputStream</span> <span class="variable">bos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedOutputStream</span>(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(dest));</span><br><span class="line">        <span class="type">byte</span>[] data = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="type">int</span> len;</span><br><span class="line">        <span class="keyword">while</span>((len = bis.read(data))!=-<span class="number">1</span>)&#123;<span class="comment">//输入</span></span><br><span class="line">            bos.write(data, <span class="number">0</span>, len);<span class="comment">//输出</span></span><br><span class="line">        &#125;</span><br><span class="line">        bos.close();</span><br><span class="line">        bis.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div></div>
<h4 id="复制目录">复制目录</h4>
<div class="tabs" id="testfileutils"><ul class="nav-tabs"><li class="tab active"><a href="#testfileutils-1">拷贝/剪切</a></li><li class="tab"><a href="#testfileutils-2">使用</a></li></ul><div class="tab-content"><div class="tab-pane active" id="testfileutils-1"><figure class="highlight java"><figcaption><span>FileUtils.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.memories.io;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FileUtils</span> &#123;</span><br><span class="line">    <span class="comment">//复制文件</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">copyFile</span><span class="params">(File src, File dest)</span> <span class="keyword">throws</span> IOException&#123;</span><br><span class="line">        <span class="keyword">if</span>(!src.isFile())&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(src.getPath() + <span class="string">&quot;不存在&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">FileInputStream</span> <span class="variable">fis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(src);</span><br><span class="line">        <span class="type">FileOutputStream</span> <span class="variable">fos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(dest);</span><br><span class="line">        <span class="type">byte</span>[] data = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="type">int</span> len;</span><br><span class="line">        <span class="keyword">while</span>((len = fis.read(data))!=-<span class="number">1</span>)&#123;</span><br><span class="line">            fos.write(data, <span class="number">0</span>, len);</span><br><span class="line">        &#125;</span><br><span class="line">        fos.close();</span><br><span class="line">        fis.close();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//复制文件夹</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">copyDirectory</span><span class="params">(File srcDir,File destDir)</span><span class="keyword">throws</span> IOException&#123;</span><br><span class="line">        <span class="keyword">if</span>(destDir.getAbsolutePath().contains(srcDir.getAbsolutePath()))&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IOException</span>(<span class="string">&quot;父目录不能拷贝到子目录中&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(!destDir.isDirectory())&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IOException</span>(<span class="string">&quot;目标对象不是目录&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">File</span> <span class="variable">dest</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(destDir,srcDir.getName());</span><br><span class="line">        <span class="comment">//如果srcDir是个文件，那么直接复制文件到destDir中</span></span><br><span class="line">        <span class="keyword">if</span>(srcDir.isFile())&#123;</span><br><span class="line">            copyFile(srcDir, dest);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            dest.mkdirs();<span class="comment">//先在destPath目录中创建srcDir对应的文件夹</span></span><br><span class="line">            File[] list = srcDir.listFiles();<span class="comment">//准备复制srcDir的子目录或子文件</span></span><br><span class="line">            <span class="keyword">for</span>(File f: list)&#123;</span><br><span class="line">                copyDirectory(f,dest);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//剪切文件夹</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">cutDirectory</span><span class="params">(File srcDir,File destDir)</span><span class="keyword">throws</span> IOException&#123;</span><br><span class="line">        <span class="keyword">if</span>(destDir.getAbsolutePath().contains(srcDir.getAbsolutePath()))&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IOException</span>(<span class="string">&quot;父目录不能剪切到子目录中&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(!destDir.isDirectory())&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IOException</span>(<span class="string">&quot;目标对象不是目录&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">File</span> <span class="variable">dest</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(destDir,srcDir.getName());</span><br><span class="line">        <span class="keyword">if</span>(srcDir.isFile())&#123;</span><br><span class="line">            copyFile(srcDir, dest);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            dest.mkdirs();</span><br><span class="line">            File[] list = srcDir.listFiles();</span><br><span class="line">            <span class="keyword">for</span>(File f: list)&#123;</span><br><span class="line">                cutDirectory(f,dest);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        srcDir.delete();<span class="comment">//删除源文件夹</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="testfileutils-2"><figure class="highlight java"><figcaption><span>TestFileUtils.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.memories.io;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestFileUtils</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">//将&quot;memories/download&quot;文件夹，复制到&quot;memories/temp&quot;目录中去</span></span><br><span class="line">        FileUtils.copyDirectory(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;memories/download&quot;</span>), <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;memories/temp&quot;</span>));</span><br><span class="line">        FileUtils.cutDirectory(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;memories/download&quot;</span>), <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;memories/temp&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div></div>
<h4 id="编码解码">编码解码</h4>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">|-字符流：</span><br><span class="line">    |-InputStreamReader：把<span class="string">&quot;字节&quot;</span>输入流转为<span class="string">&quot;字符&quot;</span>输入流，并且在转换的过程中，可以指定字符编码。</span><br><span class="line">    |-OutputStreamWriter：把<span class="string">&quot;字符&quot;</span>流转为<span class="string">&quot;字节&quot;</span>流输出，并且在转换的过程中，可以指定字符编码。</span><br></pre></td></tr></table></figure>
<div class="tabs" id="testdecode"><ul class="nav-tabs"><li class="tab active"><a href="#testdecode-1">解码</a></li><li class="tab"><a href="#testdecode-2">编码</a></li></ul><div class="tab-content"><div class="tab-pane active" id="testdecode-1"><figure class="highlight java"><figcaption><span>TestDecode.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestDecode</span> &#123;</span><br><span class="line">    <span class="comment">//读取UTF-8编码的message.txt文件</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">BufferedReader</span> <span class="variable">br</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//读取&quot;UTF-8&quot;。GBK格式用&quot;GBK&quot;。</span></span><br><span class="line">            br = <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;message.txt&quot;</span>), <span class="string">&quot;UTF-8&quot;</span>));</span><br><span class="line">            String str;</span><br><span class="line">            <span class="keyword">while</span>((str = br.readLine()) != <span class="literal">null</span>)&#123;</span><br><span class="line">                System.out.println(str);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span>&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                br.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;&#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="testdecode-2"><figure class="highlight java"><figcaption><span>TestEncode.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.BufferedWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStreamWriter;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestEncode</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        copy(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;test.txt&quot;</span>),<span class="string">&quot;GBK&quot;</span>, <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;other.txt&quot;</span>),<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//将GBK编码的test.txt文件，复制为UTF-8编码的other.txt。</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">copy</span><span class="params">(File src, String srcCharset, File dest, String destCharset)</span> <span class="keyword">throws</span> IOException&#123;</span><br><span class="line">        <span class="keyword">if</span>(!src.isFile())&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(src.getPath() + <span class="string">&quot;不存在&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">BufferedReader</span> <span class="variable">br</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(src), srcCharset));</span><br><span class="line">        <span class="type">BufferedWriter</span> <span class="variable">bw</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedWriter</span>(<span class="keyword">new</span> <span class="title class_">OutputStreamWriter</span>(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(dest), destCharset));</span><br><span class="line">        String str;</span><br><span class="line">        <span class="keyword">while</span>((str = br.readLine()) != <span class="literal">null</span>)&#123;</span><br><span class="line">            bw.write(str);</span><br><span class="line">            bw.newLine();</span><br><span class="line">        &#125;</span><br><span class="line">        bw.close();</span><br><span class="line">        br.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div></div>
<h4 id="基础类型字节流">基础类型（字节流）</h4>
<p>希望Java能够输出各种数据类型的数据，读取时能还原各种数据类型的数据，因为这些数据不是纯文本，只能选择字节流。<br />
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">|-字节流</span><br><span class="line">    |-DataInputStream：允许应用程序以与机器无关方式从底层输入流中读取基本 Java 数据类型。</span><br><span class="line">    |-DataOutputStream：允许应用程序以适当方式将基本 Java 数据类型写入输出流中。</span><br><span class="line"><span class="comment">//这俩实现类新增很多readXxx和writeXxx方法，使用时必须匹配使用。</span></span><br><span class="line"> DataInputStream            DataOutputStream</span><br><span class="line"> <span class="type">int</span> <span class="title function_">readInt</span><span class="params">()</span>              writeInt(xx)</span><br><span class="line"> <span class="type">double</span> <span class="title function_">readDouble</span><span class="params">()</span>        writeDouble(xx)</span><br><span class="line"> <span class="type">boolean</span> <span class="title function_">readBoolean</span><span class="params">()</span>      writeBoolean(xx)</span><br><span class="line"> <span class="type">long</span> <span class="title function_">readLong</span><span class="params">()</span>            writeLong(xx)</span><br><span class="line"> <span class="type">char</span> <span class="title function_">readChar</span><span class="params">()</span>            writeChar(xx)</span><br><span class="line"> <span class="type">byte</span> <span class="title function_">readByte</span><span class="params">()</span>            writeByte(xx)</span><br><span class="line"> <span class="type">short</span> <span class="title function_">readShort</span><span class="params">()</span>          writeShort(xx)</span><br><span class="line"> <span class="type">float</span> <span class="title function_">readFloat</span><span class="params">()</span>          writeFloat(xx)</span><br><span class="line"> String <span class="title function_">readUTF</span><span class="params">()</span>           writeUTF(String str)</span><br></pre></td></tr></table></figure></p>
<figure class="highlight java"><figcaption><span>TestData.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.DataInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.DataOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestData</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span> <span class="keyword">throws</span> IOException&#123;</span><br><span class="line">        <span class="comment">//存储如下一组数据，到game.dat文件中</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> <span class="string">&quot;巫师&quot;</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">age</span> <span class="operator">=</span> <span class="number">300</span>;</span><br><span class="line">        <span class="type">char</span> <span class="variable">gender</span> <span class="operator">=</span> <span class="string">&#x27;男&#x27;</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">energy</span> <span class="operator">=</span> <span class="number">5000</span>;</span><br><span class="line">        <span class="type">double</span> <span class="variable">price</span> <span class="operator">=</span> <span class="number">75.5</span>;</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">relive</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="type">DataOutputStream</span> <span class="variable">dos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DataOutputStream</span>(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;game.dat&quot;</span>));</span><br><span class="line">        dos.writeUTF(name);</span><br><span class="line">        dos.writeInt(age);</span><br><span class="line">        dos.writeChar(gender);</span><br><span class="line">        dos.writeInt(energy);</span><br><span class="line">        dos.writeDouble(price);</span><br><span class="line">        dos.writeBoolean(relive);</span><br><span class="line">        dos.close();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//可以读取</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">reload</span><span class="params">()</span><span class="keyword">throws</span> IOException&#123;</span><br><span class="line">        <span class="type">DataInputStream</span> <span class="variable">dis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DataInputStream</span>(<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;game.dat&quot;</span>));</span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> dis.readUTF();</span><br><span class="line">        <span class="type">int</span> <span class="variable">age</span> <span class="operator">=</span> dis.readInt();</span><br><span class="line">        <span class="type">char</span> <span class="variable">gender</span> <span class="operator">=</span> dis.readChar();</span><br><span class="line">        <span class="type">int</span> <span class="variable">energy</span> <span class="operator">=</span> dis.readInt();</span><br><span class="line">        <span class="type">double</span> <span class="variable">price</span> <span class="operator">=</span> dis.readDouble();</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">relive</span> <span class="operator">=</span> dis.readBoolean();</span><br><span class="line">        System.out.println(name+<span class="string">&quot;,&quot;</span> + age + <span class="string">&quot;,&quot;</span> + gender + <span class="string">&quot;,&quot;</span> + energy + <span class="string">&quot;,&quot;</span> + price + <span class="string">&quot;,&quot;</span> + relive);</span><br><span class="line">        dis.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="存储对象">存储对象</h4>
<p>如果程序要存储状态，可以选择DataOutputStream，对每一个对象逐个地把每一项变量的值写到特定格式的文件中。<br />
Java还提供了面向对象的处理方式：直接存储对象。不过，这种方式保存的数据，必须是由Java程序来读取，如果在程序所储存的文件数据需要给某些非Java应用程序所读取时，就不能选用这种方式了。</p>
<p>序列化与反序列化：<br />
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">|-ObjectOutputStream：对象序列化，把对象转为字节序列输出，writeObject(obj)方法可以输出对象。</span><br><span class="line">|-ObjectInputStream：对象反序列化，把字节序列重构成Java对象，Object <span class="title function_">readObject</span><span class="params">()</span>方法可以读取对象。</span><br><span class="line">前提准备：</span><br><span class="line">|-类本身、类内部属性的类型，都必须实现java.io.Serializable接口，或者其子接口。</span><br><span class="line">|-若完全控制某一对象及其超类型的流格式和内容，则要实现java.io.Externalizable接口的两个方法：</span><br><span class="line">    |-writeExternal：自定定制哪些属性要序列化，顺序是什么样。</span><br><span class="line">    |-readExternal：自定定制哪些属性要反序列化，顺序和writeExternal的方法中一致。</span><br><span class="line">不被序列化的属性：</span><br><span class="line">|-<span class="keyword">static</span>：代表类属性而不是实例属性，不会被序列化，反序列化时恢复为当前类变量的值。</span><br><span class="line">|-<span class="keyword">transient</span>：表示瞬时，不会被序列化，反序列化时被恢复为默认值。如果某个实例变量不需要被序列化，就把它标记为<span class="keyword">transient</span>的。</span><br><span class="line"><span class="comment">//如果某个属性的类型没有实现Serializable接口，而你又不能修改该类，那么只能把该属性标记为transient。</span></span><br><span class="line"><span class="comment">//或者动态数据只可以在执行时求出而不能或不必存储。</span></span><br><span class="line">序列化版本ID：</span><br><span class="line">|-默认serialVersionUID是自动生成的。</span><br><span class="line">|-但当本地对象发生变化，比如删除了某个实例变量、改变实例变量的类型，这导致序列化或反序列化不一致而失败。</span><br><span class="line">|-解决办法：实现java.io.Serializable接口时，增加一个<span class="type">long</span>类型的静态常量serialVersionUID。</span><br></pre></td></tr></table></figure></p>
<div class="tabs" id="testobjectoutputstream"><ul class="nav-tabs"><li class="tab active"><a href="#testobjectoutputstream-1">序列化对象</a></li><li class="tab"><a href="#testobjectoutputstream-2">使用序列化</a></li><li class="tab"><a href="#testobjectoutputstream-3">序列化版本ID</a></li></ul><div class="tab-content"><div class="tab-pane active" id="testobjectoutputstream-1"><figure class="highlight java"><figcaption><span>Account.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.memories.io;</span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"><span class="keyword">import</span> java.io.Externalizable;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.ObjectInput;</span><br><span class="line"><span class="keyword">import</span> java.io.ObjectOutput;</span><br><span class="line"><span class="comment">//想序列化，必须继承Serializable接口，标记可以被序列化</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Account</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span>, Externalizable&#123;</span><br><span class="line">    <span class="comment">//static的属性不会被序列化，反序列化时恢复为当前类变量的值</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">double</span> interestRate;</span><br><span class="line">    <span class="keyword">private</span> String number;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> balance;</span><br><span class="line">    <span class="comment">//标记为transient，表示实例变量不能/不应该被序列化，在反序列化时，被恢复为默认值</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">transient</span> <span class="type">double</span> interest;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Account</span><span class="params">(String number, String name, String password, <span class="type">double</span> balance, <span class="type">double</span> interest)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>();</span><br><span class="line">        <span class="built_in">this</span>.number = number;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.password = password;</span><br><span class="line">        <span class="built_in">this</span>.balance = balance;</span><br><span class="line">        <span class="built_in">this</span>.interest = interest;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">double</span> <span class="title function_">getInterestRate</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> interestRate;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">setInterestRate</span><span class="params">(<span class="type">double</span> interestRate)</span> &#123;</span><br><span class="line">        Account.interestRate = interestRate;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getNumber</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> number;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setNumber</span><span class="params">(String number)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.number = number;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getPassword</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> password;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPassword</span><span class="params">(String password)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.password = password;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getBalance</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> balance;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setBalance</span><span class="params">(<span class="type">double</span> balance)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.balance = balance;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getInterest</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> interest;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setInterest</span><span class="params">(<span class="type">double</span> interest)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.interest = interest;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Account [number=&quot;</span> + number + <span class="string">&quot;, name=&quot;</span> + name + <span class="string">&quot;, password=&quot;</span> + password </span><br><span class="line">                + <span class="string">&quot;, balance=&quot;</span> + balance + <span class="string">&quot;, interest=&quot;</span> + interest + <span class="string">&quot;]&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">writeExternal</span><span class="params">(ObjectOutput out)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">//程序员自己定制要序列化的内容，顺序等</span></span><br><span class="line">        <span class="comment">//这两个方法是在对象被序列化和反序列化的过程中，JVM帮我们调用</span></span><br><span class="line">        out.writeDouble(interestRate);<span class="comment">//设置静态的也序列化</span></span><br><span class="line">        out.writeUTF(name);</span><br><span class="line">        out.writeDouble(interest);<span class="comment">//设置有transient也序列化</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">readExternal</span><span class="params">(ObjectInput in)</span> <span class="keyword">throws</span> IOException, ClassNotFoundException &#123;</span><br><span class="line">        <span class="comment">//程序员自己定制要反序列化的内容，顺序等，建议与序列化的顺序一致</span></span><br><span class="line">        interestRate = in.readDouble();</span><br><span class="line">        name = in.readUTF();</span><br><span class="line">        interest = in.readDouble();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="testobjectoutputstream-2"><figure class="highlight java"><figcaption><span>TestObjectOutputStream.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.memories.io.Account;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.ObjectOutputStream;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestObjectOutputStream</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//序列化一个数组，要求元素类型实现Serializable接口。</span></span><br><span class="line">        Account.setInterestRate(<span class="number">0.0024</span>);</span><br><span class="line">        <span class="type">Account</span> <span class="variable">account</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Account</span>(<span class="string">&quot;111000111&quot;</span>, <span class="string">&quot;memories&quot;</span>, <span class="string">&quot;123456&quot;</span>, <span class="number">1000.0</span>, <span class="number">2.4</span>);</span><br><span class="line">        <span class="type">ObjectOutputStream</span> <span class="variable">oos</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            oos = <span class="keyword">new</span> <span class="title class_">ObjectOutputStream</span>(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;account.dat&quot;</span>));</span><br><span class="line">            oos.writeObject(account);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span>&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                oos.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;&#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="testobjectoutputstream-3"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Account</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">1L</span>;<span class="comment">//增加serialVersionUID</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">double</span> interestRate;</span><br><span class="line">    <span class="comment">//...  </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div></div>
<h3 id="system相关">System相关</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">|-System.in：标准输入设备，默认键盘。InputStream类型。</span><br><span class="line">    |-<span class="keyword">void</span> <span class="title function_">setIn</span><span class="params">(InputStream in)</span>：重定向。</span><br><span class="line">        |-文件输入：<span class="string">&quot;new FileInputStream(文件地址)&quot;</span></span><br><span class="line">        |-键盘输入：<span class="string">&quot;new FileInputStream(FileDescriptor.in)&quot;</span></span><br><span class="line">|-System.out/err：标准输出设备，默认显示器。PrintStream类型。</span><br><span class="line">    |-<span class="keyword">void</span> <span class="title function_">setOut</span><span class="params">(PrintStream out)</span>：重定向。</span><br><span class="line">        |-输出到文件：<span class="string">&quot;new PrintStream(文件地址)&quot;</span></span><br><span class="line">        |-输出到控制台：<span class="string">&quot;new PrintStream(new FileOutputStream(FileDescriptor.out))&quot;</span></span><br><span class="line">    |-<span class="keyword">void</span> <span class="title function_">setErr</span><span class="params">(PrintStream err)</span>：重定向。</span><br><span class="line">        |-输出到文件：<span class="string">&quot;new PrintStream(文件地址)&quot;</span></span><br><span class="line">        |-输出到控制台：<span class="string">&quot;new PrintStream(new FileOutputStream(FileDescriptor.err))&quot;</span></span><br><span class="line">|-java.util.Scanner：是一个可以使用正则表达式来解析基本类型和字符串的简单文本扫描器。</span><br></pre></td></tr></table></figure>
<div class="tabs" id="testsystemin"><ul class="nav-tabs"><li class="tab active"><a href="#testsystemin-1">重定向In</a></li><li class="tab"><a href="#testsystemin-2">重定向Out</a></li></ul><div class="tab-content"><div class="tab-pane active" id="testsystemin-1"><figure class="highlight java"><figcaption><span>TestSystemIn.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.FileDescriptor;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestSystemIn</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        <span class="comment">//重定向从文件输入</span></span><br><span class="line">        System.setIn(<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;myjava\\info.txt&quot;</span>));</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">input</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="keyword">while</span>(input.hasNext())&#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> input.nextLine();</span><br><span class="line">            System.out.println(str);</span><br><span class="line">        &#125;</span><br><span class="line">        input.close();</span><br><span class="line">        <span class="comment">//重定向回键盘输入</span></span><br><span class="line">        System.setIn(<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(FileDescriptor.in));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="testsystemin-2"><figure class="highlight java"><figcaption><span>TestSystemOut.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.FileDescriptor;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintStream;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestSystemOut</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">        <span class="comment">//重定向输出到文件</span></span><br><span class="line">        System.setOut(<span class="keyword">new</span> <span class="title class_">PrintStream</span>(<span class="string">&quot;myjava\\print.txt&quot;</span>));</span><br><span class="line">        System.out.println(<span class="string">&quot;world&quot;</span>);</span><br><span class="line">        <span class="comment">//重定向回控制台</span></span><br><span class="line">        System.setOut(<span class="keyword">new</span> <span class="title class_">PrintStream</span>(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(FileDescriptor.out)));</span><br><span class="line">        System.out.println(<span class="string">&quot;java&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div></div>
<div class="tabs" id="testscannersystemin"><ul class="nav-tabs"><li class="tab active"><a href="#testscannersystemin-1">从键盘输入数据</a></li><li class="tab"><a href="#testscannersystemin-2">从文件扫描数据</a></li></ul><div class="tab-content"><div class="tab-pane active" id="testscannersystemin-1"><figure class="highlight java"><figcaption><span>TestScannerSystemIn.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestScannerSystemIn</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">input</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        System.out.print(<span class="string">&quot;姓名：&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> input.nextLine();</span><br><span class="line">        System.out.print(<span class="string">&quot;性别：&quot;</span>);</span><br><span class="line">        <span class="type">char</span> <span class="variable">gender</span> <span class="operator">=</span> input.next().charAt(<span class="number">0</span>);</span><br><span class="line">        System.out.print(<span class="string">&quot;年龄：&quot;</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">age</span> <span class="operator">=</span> input.nextInt();</span><br><span class="line">        System.out.print(<span class="string">&quot;电话：&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">phone</span> <span class="operator">=</span> input.next();</span><br><span class="line">        System.out.print(<span class="string">&quot;邮箱：&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">email</span> <span class="operator">=</span> input.next();</span><br><span class="line">        System.out.println(<span class="string">&quot;姓名：&quot;</span> + name);</span><br><span class="line">        System.out.println(<span class="string">&quot;性别：&quot;</span> + gender);</span><br><span class="line">        System.out.println(<span class="string">&quot;年龄：&quot;</span> + age);</span><br><span class="line">        System.out.println(<span class="string">&quot;电话：&quot;</span> + phone);</span><br><span class="line">        System.out.println(<span class="string">&quot;邮箱：&quot;</span> + email);</span><br><span class="line">        input.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="testscannersystemin-2"><figure class="highlight java"><figcaption><span>TestScanner.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestScanner</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">input</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;myjava\\info.txt&quot;</span>));</span><br><span class="line">        <span class="keyword">while</span>(input.hasNext())&#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> input.nextLine();</span><br><span class="line">            System.out.println(str);</span><br><span class="line">        &#125;</span><br><span class="line">        input.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div></div>
<h3 id="jdk1.7新特性">JDK1.7新特性</h3>
<p><code>try..with..resources</code>是为资源关闭专门设计的try..catch的语法。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//凡是在try()中声明的资源对象，都会自动关闭，无论&#123;&#125;部分是否发生异常。</span></span><br><span class="line"><span class="keyword">try</span>(</span><br><span class="line">    <span class="comment">//多了()，这里声明需要自动关闭的资源对象</span></span><br><span class="line">)&#123;</span><br><span class="line">    <span class="comment">//逻辑代码</span></span><br><span class="line">&#125;<span class="keyword">catch</span>(异常类型 e)&#123;</span><br><span class="line">    <span class="comment">//异常处理代码</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStream;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestTryWithResource</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">copy1</span><span class="params">(File src, File dest)</span> <span class="keyword">throws</span> IOException&#123;</span><br><span class="line">        <span class="comment">//只有try</span></span><br><span class="line">        <span class="keyword">try</span>(</span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">input</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(src);</span><br><span class="line">        <span class="type">OutputStream</span> <span class="variable">output</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(dest);</span><br><span class="line">        )&#123;</span><br><span class="line">            <span class="type">byte</span>[] data = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">            <span class="type">int</span> len;</span><br><span class="line">            <span class="keyword">while</span> ((len = input.read(data)) != -<span class="number">1</span>) &#123;</span><br><span class="line">                output.write(data, <span class="number">0</span>, len);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">copy2</span><span class="params">(File src, File dest)</span> &#123;</span><br><span class="line">        <span class="comment">//try..catch</span></span><br><span class="line">        <span class="keyword">try</span>(</span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">input</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(src);</span><br><span class="line">        <span class="type">OutputStream</span> <span class="variable">output</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(dest);</span><br><span class="line">        )&#123;</span><br><span class="line">            <span class="type">byte</span>[] data = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">            <span class="type">int</span> len;</span><br><span class="line">            <span class="keyword">while</span> ((len = input.read(data)) != -<span class="number">1</span>) &#123;</span><br><span class="line">                output.write(data, <span class="number">0</span>, len);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">catch</span>(FileNotFoundException e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">catch</span>(IOException e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="io和nio">IO和NIO</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">|-java.io：阻塞式IO。</span><br><span class="line">|-java.nio：非阻塞式的IO。使用复杂，需要很好的设计才能发挥效果，新手不建议使用。</span><br><span class="line">    |-提供了Path接口、和Paths工具类。</span><br><span class="line">    |-Path：接口，File类的升级版，但它和平台无关，用路径名表示一个目录或文件。</span><br><span class="line">    |-Paths：工具类，用来创建Path接口的对象。</span><br><span class="line">    |-Files：工具类，有大量静态的工具方法处理文件：</span><br><span class="line">        |-List&lt;String&gt; <span class="title function_">readAllLines</span><span class="params">(Path path, Charset cs)</span>：读取指定文件的所有文本行到一个列表中。</span><br><span class="line">        |-Stream&lt;String&gt; <span class="title function_">lines</span><span class="params">(Path path, Charset cs)</span>：返回一个Stream对象，用于读取指定文件的所有文本行。</span><br><span class="line">        |-Files.move(Path source, Path target, CopyOption... options)：剪切文件。</span><br><span class="line">        |-Files.copy(src, dest, CopyOption... options)：复制文件。</span><br><span class="line">        |-Files.delete(Path path)：功能类似于File类的delete()，不同的地方是当文件不存在时，会报异常。</span><br><span class="line">        |-Files.deleteIfExists(Path path)：功能相同于File类的delete()，存在就删除，不存在就什么也不干。</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><figcaption><span>TestNIO.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.nio.file.Path;</span><br><span class="line"><span class="keyword">import</span> java.nio.file.Paths;</span><br><span class="line"><span class="keyword">import</span> java.nio.file.StandardCopyOption;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestNIO</span> &#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test01</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//以前的IO操作</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;index.html&quot;</span>);</span><br><span class="line">        <span class="comment">//Java7开始可以这样写</span></span><br><span class="line">        <span class="type">Path</span> <span class="variable">path</span> <span class="operator">=</span> Paths.get(<span class="string">&quot;index.html&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test02</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">Path</span> <span class="variable">file</span> <span class="operator">=</span> Paths.get(<span class="string">&quot;testIO&quot;</span>, <span class="string">&quot;java&quot;</span> ,<span class="string">&quot;1.txt&quot;</span>);</span><br><span class="line">        <span class="comment">//获取目录总共级别</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> file.getNameCount();</span><br><span class="line">        System.out.println(count);<span class="comment">//3</span></span><br><span class="line">        <span class="comment">//获取指定级的目录名</span></span><br><span class="line">        <span class="type">Path</span> <span class="variable">name</span> <span class="operator">=</span> file.getName(<span class="number">0</span>);</span><br><span class="line">        System.out.println(name);<span class="comment">//testIO</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test03</span><span class="params">()</span> <span class="keyword">throws</span> IOException&#123;</span><br><span class="line">        <span class="type">Path</span> <span class="variable">src</span> <span class="operator">=</span> Paths.get(<span class="string">&quot;1.txt&quot;</span>);</span><br><span class="line">        <span class="type">Path</span> <span class="variable">dest</span> <span class="operator">=</span> Paths.get(<span class="string">&quot;2.txt&quot;</span>);</span><br><span class="line">        <span class="type">Path</span> <span class="variable">newdest</span> <span class="operator">=</span> Paths.get(<span class="string">&quot;testIO&quot;</span>,<span class="string">&quot;java&quot;</span>,<span class="string">&quot;2.txt&quot;</span>);</span><br><span class="line">        <span class="comment">//REPLACE_EXISTING表示文件存在时替换</span></span><br><span class="line">        Files.copy(src, dest, StandardCopyOption.REPLACE_EXISTING);</span><br><span class="line">        <span class="comment">//文件不存在时报异常</span></span><br><span class="line">        Files.delete(src);</span><br><span class="line">        <span class="comment">//剪切</span></span><br><span class="line">        Files.move(dest, newdest, StandardCopyOption.REPLACE_EXISTING);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test04</span><span class="params">()</span> <span class="keyword">throws</span> IOException&#123;</span><br><span class="line">        <span class="type">Path</span> <span class="variable">file</span> <span class="operator">=</span> Paths.get(<span class="string">&quot;testIO&quot;</span>,<span class="string">&quot;java&quot;</span>,<span class="string">&quot;2.txt&quot;</span>);</span><br><span class="line">        <span class="comment">//读取所有行数据，不需要IO流、编码解码、缓冲流</span></span><br><span class="line">        List&lt;String&gt; allLines = Files.readAllLines(file, StandardCharsets.UTF_8);</span><br><span class="line">        <span class="keyword">for</span> (String string : allLines) &#123;</span><br><span class="line">            System.out.println(string);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//使用Stream对象</span></span><br><span class="line">        Stream&lt;String&gt; allLines = Files.lines(file, StandardCharsets.UTF_8);</span><br><span class="line">        lines.forEach(line -&gt; &#123;</span><br><span class="line">            String[] words = line.split(<span class="string">&quot;\\s+&quot;</span>);</span><br><span class="line">            System.out.println(<span class="string">&quot;Line: &quot;</span> + line + <span class="string">&quot;, Word Count: &quot;</span> + words.length);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

    </div>

    
    
    

    <footer class="post-footer">
          

<div class="post-copyright">
<ul>
  <li class="post-copyright-author">
      <strong>本文作者： </strong>SoundMemories
  </li>
  <li class="post-copyright-link">
      <strong>本文链接：</strong>
      <a href="https://soundmemories.github.io/2020/03/01/Java/19.JavaIO%E6%B5%81/" title="JavaIO流">https://soundmemories.github.io/2020/03/01/Java/19.JavaIO流/</a>
  </li>
  <li class="post-copyright-license">
      <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC8="><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</span> 许可协议。转载请注明出处！
  </li>
</ul>
</div>

          <div class="post-tags">
              <a href="/tags/Java/" rel="tag"><i class="fa fa-tag"></i> Java</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2020/02/27/Java/18.Java%E6%B3%9B%E5%9E%8B/" rel="prev" title="Java泛型">
                  <i class="fa fa-chevron-left"></i> Java泛型
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2020/03/04/Java/20.Java%E5%A4%9A%E7%BA%BF%E7%A8%8B/" rel="next" title="Java多线程">
                  Java多线程 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 2019 – 
    <span itemprop="copyrightYear">2024</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">SoundMemories</span>
  </div>
  <div class="powered-by">由 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & <span class="exturl" data-url="aHR0cHM6Ly90aGVtZS1uZXh0LmpzLm9yZy9tdXNlLw==">NexT.Muse</span> 强力驱动
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/next-theme-pjax/0.6.0/pjax.min.js" integrity="sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js" integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.0.8/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script><script src="/js/pjax.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>

  <script class="next-config" data-name="pdf" type="application/json">{"object_url":{"url":"https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.2.12/pdfobject.min.js","integrity":"sha256-g2xji1rlE3KsGVClvuxTbcR0Kn2+wtQADSff2Tbb4zA="},"url":"/lib/pdf/web/viewer.html"}</script>
  <script src="/js/third-party/tags/pdf.js"></script>

  <script class="next-config" data-name="mermaid" type="application/json">{"enable":true,"theme":{"light":"neutral","dark":"neutral"},"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mermaid/10.2.3/mermaid.min.js","integrity":"sha256-JFptYy4KzJ5OQP+Q9fubNf3cxpPPmZKqUOovyEONKrQ="}}</script>
  <script src="/js/third-party/tags/mermaid.js"></script>


  <script src="/js/third-party/fancybox.js"></script>



  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>


  <script src="https://cdnjs.cloudflare.com/ajax/libs/quicklink/2.3.0/quicklink.umd.js" integrity="sha256-yvJQOINiH9fWemHn0vCA5lsHWJaHs6/ZmO+1Ft04SvM=" crossorigin="anonymous"></script>
  <script class="next-config" data-name="quicklink" type="application/json">{"enable":true,"home":true,"archive":true,"delay":true,"timeout":3000,"priority":true,"url":"https://soundmemories.github.io/2020/03/01/Java/19.JavaIO%E6%B5%81/"}</script>
  <script src="/js/third-party/quicklink.js"></script>

</body>
</html>

<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.loli.net/css?family=Monda:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.1/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css">

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"soundmemories.github.io","root":"/","images":"/images","scheme":"Muse","version":"8.0.2","exturl":true,"sidebar":{"position":"left","display":"always","padding":18,"offset":12},"copycode":true,"bookmark":{"enable":true,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":true,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}};
  </script>

  <meta name="description" content="安装下载源码，编译lib_lightgbm.so，对于windows则是lib_lightgbm.dll。123456789git clone --recursive https:&#x2F;&#x2F;github.com&#x2F;Microsoft&#x2F;LightGBM# 对于 windows 用户，需要执行：# git submodule init# git submodule updatecd LightGBMmkdir">
<meta property="og:type" content="article">
<meta property="og:title" content="ML-LightGBM">
<meta property="og:url" content="https://soundmemories.github.io/2020/06/06/Machine%20Learning/10.ML-LightGBM/index.html">
<meta property="og:site_name" content="SoundMemories">
<meta property="og:description" content="安装下载源码，编译lib_lightgbm.so，对于windows则是lib_lightgbm.dll。123456789git clone --recursive https:&#x2F;&#x2F;github.com&#x2F;Microsoft&#x2F;LightGBM# 对于 windows 用户，需要执行：# git submodule init# git submodule updatecd LightGBMmkdir">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2020-06-05T16:00:00.000Z">
<meta property="article:modified_time" content="2021-06-17T14:58:51.903Z">
<meta property="article:author" content="SoundMemories">
<meta property="article:tag" content="Machine Learning">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://soundmemories.github.io/2020/06/06/Machine%20Learning/10.ML-LightGBM/">


<script data-pjax class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>ML-LightGBM | SoundMemories</title>
  






  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">SoundMemories</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-主页">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>主页</a>

  </li>
        <li class="menu-item menu-item-分类">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-标签">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-归档">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-关于">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>
	   
		  
      <div class="sidebar-panel-container">
        <!--noindex-->
        <section class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AE%89%E8%A3%85"><span class="nav-number">1.</span> <span class="nav-text">安装</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8F%82%E6%95%B0"><span class="nav-number">2.</span> <span class="nav-text">参数</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A0%B8%E5%BF%83%E5%8F%82%E6%95%B0"><span class="nav-number">2.1.</span> <span class="nav-text">核心参数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AD%A6%E4%B9%A0%E6%8E%A7%E5%88%B6%E5%8F%82%E6%95%B0"><span class="nav-number">2.2.</span> <span class="nav-text">学习控制参数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#IO%E5%8F%82%E6%95%B0"><span class="nav-number">2.3.</span> <span class="nav-text">IO参数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BA%A6%E9%87%8F%E5%8F%82%E6%95%B0"><span class="nav-number">2.4.</span> <span class="nav-text">度量参数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BD%91%E6%A0%BC%E5%8F%82%E6%95%B0"><span class="nav-number">2.5.</span> <span class="nav-text">网格参数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#GPU%E5%8F%82%E6%95%B0"><span class="nav-number">2.6.</span> <span class="nav-text">GPU参数</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Scikit-Learn-API"><span class="nav-number">3.</span> <span class="nav-text">Scikit-Learn API</span></a></li></ol></div>
        </section>
        <!--/noindex-->

        <section class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="SoundMemories"
      src="https://i.loli.net/2020/11/04/6JhNuwtBe4adylS.png">
  <p class="site-author-name" itemprop="name">SoundMemories</p>
  <div class="site-description" itemprop="description">今日事，今日毕</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
          <span class="site-state-item-count">113</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3NvdW5kbWVtb3JpZXM=" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;soundmemories"><i class="fab fa-github fa-fw"></i>GitHub</span>
      </span>
      <span class="links-of-author-item">
        <span class="exturl" data-url="bWFpbHRvOnNvdW5kbWVtb3JpZXNAMTYzLmNvbQ==" title="E-Mail → mailto:soundmemories@163.com"><i class="fa fa-envelope fa-fw"></i>E-Mail</span>
      </span>
  </div>
  <div class="cc-license site-overview-item animated" itemprop="license">
    <span class="exturl cc-opacity" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC8="><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></span>
  </div>



        </section>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">
      

      

  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://soundmemories.github.io/2020/06/06/Machine%20Learning/10.ML-LightGBM/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://i.loli.net/2020/11/04/6JhNuwtBe4adylS.png">
      <meta itemprop="name" content="SoundMemories">
      <meta itemprop="description" content="今日事，今日毕">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SoundMemories">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          ML-LightGBM
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-06-06 00:00:00" itemprop="dateCreated datePublished" datetime="2020-06-06T00:00:00+08:00">2020-06-06</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Machine-Learning/" itemprop="url" rel="index"><span itemprop="name">Machine Learning</span></a>
        </span>
    </span>

  
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>25k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>22 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><p>下载源码，编译lib_lightgbm.so，对于windows则是lib_lightgbm.dll。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">git clone --recursive https://github.com/Microsoft/LightGBM</span><br><span class="line"><span class="comment"># 对于 windows 用户，需要执行：</span></span><br><span class="line"><span class="comment"># git submodule init</span></span><br><span class="line"><span class="comment"># git submodule update</span></span><br><span class="line">cd LightGBM</span><br><span class="line">mkdir build</span><br><span class="line">cd build</span><br><span class="line">cmake ..</span><br><span class="line">make -j4</span><br></pre></td></tr></table></figure><br>如果需要支持GPU，则执行cmake时指定：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">cmake -DUSE_GPU=<span class="number">1</span> ..</span><br><span class="line"><span class="comment"># 如果你已经安装了 NVIDIA OpenGL，则使用：</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string"># cmake -DUSE_GPU=1 </span></span><br><span class="line"><span class="string">        -DOpenCL_LIBRARY=/usr/local/cuda/lib64/libOpenCL.so </span></span><br><span class="line"><span class="string">        -DOpenCL_INCLUDE_DIR=/usr/local/cuda/include/ ..</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><br>如果想要protobuf来保存和加载模型，则先安装protobuf c++版本，然后使用：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cmake -DUSE_PROTO=ON ..</span><br></pre></td></tr></table></figure><br>最后直接<code>pip install lightgbm</code>即可。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">pip install lightgbm</span><br><span class="line">pip install --no-binary :<span class="built_in">all</span>: lightgbm <span class="comment">#从源码编译安装</span></span><br><span class="line">pip install lightgbm --install-option=--mpi <span class="comment">#从源码编译安装 MPI 版本</span></span><br><span class="line">pip install lightgbm --install-option=--gpu <span class="comment">#从源码编译安装 GPU 版本</span></span><br><span class="line">pip install lightgbm --install-option=--gpu </span><br><span class="line">                     --install-option=<span class="string">&quot;--opencl-include-dir=/usr/local/cuda/include/&quot;</span> </span><br><span class="line">                     --install-option=<span class="string">&quot;--opencl-library=/usr/local/cuda/lib64/libOpenCL.so&quot;</span> <span class="comment">#从源码编译安装，指定配置</span></span><br><span class="line"><span class="comment"># 可选的配置有：</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">boost-root</span></span><br><span class="line"><span class="string">boost-dir</span></span><br><span class="line"><span class="string">boost-include-dir</span></span><br><span class="line"><span class="string">boost-librarydir</span></span><br><span class="line"><span class="string">opencl-include-dir</span></span><br><span class="line"><span class="string">opencl-library</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><br><a id="more"></a></p>
<h1 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h1><p>参考官网<span class="exturl" data-url="aHR0cHM6Ly9saWdodGdibS5yZWFkdGhlZG9jcy5pby9lbi9sYXRlc3QvUGFyYW1ldGVycy5odG1s">Parameters<i class="fa fa-external-link-alt"></i></span>。</p>
<p>经验总结：<br><strong>针对leaf-wise树的参数优化</strong>：<br>（1）num_leaves：控制了叶节点的数目。它是控制树模型复杂度的主要参数。<br>　　　如果是level-wise，则该参数为$2^{depth}$，其中$depth$为树的深度。但是, 这种简单的转化在实际应用中表现不佳，因为当叶子数量相同时，leaf-wise的树要远远比level-wise树深的多，非常容易导致过拟合。因此应该让num_leaves小于$2^{depth}$。<br>　　　在leaf-wise树中，并不存在depth的概念。因为不存在一个从leaves到depth的合理映射。<br>（2）min_data_in_leaf：每个叶节点的最少样本数量。它是处理leaf-wise树的过拟合的重要参数。将它设为较大的值，可以避免生成一个过深的树。但是也可能导致欠拟合。实际应用中, 对于大数据集, 设置其为几百或几千就足够了。<br>（3）max_depth：控制了树的最大深度。该参数可以显式的限制树的深度。</p>
<p><strong>针对更快的训练速度</strong>：<br>（1）通过设置bagging_fraction和bagging_freq参数来使用bagging方法。<br>（2）通过设置feature_fraction参数来使用特征的子抽样。<br>（3）使用较小的max_bin。<br>（4）使用save_binary在未来的学习过程对数据加载进行加速。</p>
<p><strong>获取更好的准确率</strong>：<br>（1）使用较大的max_bin（学习速度可能变慢）。<br>（2）使用较小的learning_rate和较大的num_iterations。<br>（3）使用较大的num_leaves（可能导致过拟合）。<br>（4）使用更大的训练数据。<br>（5）尝试dart。</p>
<p><strong>缓解过拟合</strong>：<br>（1）使用较小的max_bin。<br>（2）使用较小的num_leaves。<br>（3）使用min_data_in_leaf和min_sum_hessian_in_leaf。<br>（4）通过设置bagging_fraction和bagging_freq来使用bagging。<br>（5）通过设置feature_fraction来使用特征子抽样。<br>（6）使用更大的训练数据。<br>（7）使用lambda_l1,lambda_l2和min_gain_to_split来使用正则。<br>（8）尝试max_depth来避免生成过深的树。</p>
<h2 id="核心参数"><a href="#核心参数" class="headerlink" title="核心参数"></a>核心参数</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br></pre></td><td class="code"><pre><span class="line">config/config_file</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string"> 一个字符串，给出了配置文件的路径。默认为空字符串。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">task/task_type</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个字符串，给出了要执行的任务。可以为：</span></span><br><span class="line"><span class="string">&#x27;train&#x27;/&#x27;training&#x27;：表示是训练任务。默认为&#x27;train&#x27;。 </span></span><br><span class="line"><span class="string">&#x27;predict&#x27;/&#x27;prediction&#x27;/&#x27;test&#x27;：表示是预测任务。</span></span><br><span class="line"><span class="string">&#x27;convert_model&#x27;：表示是模型转换任务。将模型文件转换成if-else格式。</span></span><br><span class="line"><span class="string">&#x27;refit&#x27;/&#x27;refit_tree&#x27;：用新数据重新拟合现有模型。</span></span><br><span class="line"><span class="string">&#x27;save_binary&#x27;：加载训练（和验证）数据，然后将数据集保存到二进制文件。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">objective/objective_type/app/application</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">&#x27;regression&#x27;/&#x27;regression_l2&#x27;/&#x27;mean_squared_error&#x27;/&#x27;mse&#x27;/&#x27;l2_root&#x27;/&#x27;root_mean_squred_error&#x27;/&#x27;rmse&#x27;：</span></span><br><span class="line"><span class="string">表示回归任务，使用L2损失函数。默认为&#x27;regression&#x27;。</span></span><br><span class="line"><span class="string">&#x27;regression_l1&#x27;/&#x27;l1&#x27;/&#x27;mae&#x27;/&#x27;mean_absolute_error&#x27;：表示回归任务，使用L1损失函数。</span></span><br><span class="line"><span class="string">&#x27;huber&#x27;：表示回归任务，使用huber损失函数。</span></span><br><span class="line"><span class="string">&#x27;fair&#x27;：表示回归任务，使用fair损失函数。</span></span><br><span class="line"><span class="string">&#x27;poisson&#x27;：表示Poisson回归任务。</span></span><br><span class="line"><span class="string">&#x27;quantile&#x27;：表示quantile回归任务。</span></span><br><span class="line"><span class="string">&#x27;mape&#x27;/&#x27;mean_absolute_precentage_error&#x27;：表示回归任务，使用MAPE损失函数。</span></span><br><span class="line"><span class="string">&#x27;gamma&#x27;：表示gamma回归任务。</span></span><br><span class="line"><span class="string">&#x27;tweedie&#x27;：表示tweedie回归任务。</span></span><br><span class="line"><span class="string">&#x27;binary&#x27;：表示二分类任务，使用对数损失函数作为目标函数。</span></span><br><span class="line"><span class="string">&#x27;multiclass&#x27;：表示多分类任务，使用softmax函数作为目标函数。必须设置num_class参数。</span></span><br><span class="line"><span class="string">&#x27;multiclassova&#x27;/&#x27;multiclass_ova&#x27;/&#x27;ova&#x27;/&#x27;ovr&#x27;：表示多分类任务，使用one-vs-all的二分类目标函数。必须设置num_class参数。</span></span><br><span class="line"><span class="string">&#x27;xentropy&#x27;/&#x27;cross_entropy&#x27;：目标函数为交叉熵（同时具有可选择的线性权重）。要求标签是[0,1]之间的数值。</span></span><br><span class="line"><span class="string">&#x27;xentlambda&#x27;/&#x27;cross_entropy_lambda&#x27;：替代了参数化的cross_entropy。要求标签是[0,1]之间的数值。</span></span><br><span class="line"><span class="string">&#x27;lambdarank&#x27;：表示排序任务。在lambdarank任务中，标签应该为整数类型，数值越大表示相关性越高。</span></span><br><span class="line"><span class="string">             label_gain参数可以用于设置整数标签的增益（权重）。</span></span><br><span class="line"><span class="string">&#x27;rank_xendcg&#x27;：表示排序任务函数。rank_xendcg比lambdarank更快，并实现了与lambdarank相似的性能。</span></span><br><span class="line"><span class="string">              label应该是int类型，数字越大表示相关性越高。(e.g. 0:bad, 1:fair, 2:good, 3:perfect)</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">boosting/boost/boosting_type</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个字符串，给出了基学习器模型算法。可以为：</span></span><br><span class="line"><span class="string">&#x27;gbdt&#x27;：默认值，表示传统的梯度提升决策树。</span></span><br><span class="line"><span class="string">&#x27;rf&#x27;：表示随机森林。</span></span><br><span class="line"><span class="string">&#x27;dart&#x27;：表示带dropout的gbdt。</span></span><br><span class="line"><span class="string">&#x27;goss&#x27;：表示Gradient-based One-Side Sampling的gbdt。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">linear_tree/linear_trees</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个布尔值，默认false。拟合分段线性梯度提升树。</span></span><br><span class="line"><span class="string">以通常的方式选择树分裂，但每个叶子的模型是线性的而不是常数。</span></span><br><span class="line"><span class="string">每片叶子的线性模型包括该叶子分支中的所有数值特征。</span></span><br><span class="line"><span class="string">分类特征正常用于分割，但不用于线性模型。</span></span><br><span class="line"><span class="string">缺失值编码不应为0。Python中是np.nan。</span></span><br><span class="line"><span class="string">建议在训练前重新调整数据，使特征具有相似的均值和标准差。</span></span><br><span class="line"><span class="string">仅适用于CPU和serial tree学习器。</span></span><br><span class="line"><span class="string">regression_l1不支持linear tree boosting。</span></span><br><span class="line"><span class="string">设置linear_tree=true会明显增加LightGBM的内存使用。</span></span><br><span class="line"><span class="string">如果指定monotone_constraints，则在选择分割点时将强制执行约束，但在叶子上拟合线性模型时则不会强制执行。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">data/train/train_data</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个字符串，默认&quot;&quot;。给出了训练数据所在的文件的文件名。LightGBM将使用它来训练模型。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">valid/test/valid_data/valid_data_file/test_data/test_data_file/valid_filenames</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个字符串，默认&quot;&quot;。表示验证集所在的文件的文件名。</span></span><br><span class="line"><span class="string">LightGBM将输出该数据集的度量。如果有多个验证集，则用逗号&#x27;,&#x27;分隔。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">num_iterations/num_iteration/n_iter/num_tree/num_trees/num_round/num_rounds/</span><br><span class="line">num_boost_round/n_estimators</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个整数，默认100，该值必须&gt;=0。给出了boosting的迭代次数。</span></span><br><span class="line"><span class="string">在内部，LightGBM为多类分类问题构造num_class*num_iterations树。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">learning_rate/shrinkage_rate/eta</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个浮点数，默认0.1，该值必须&gt;0.0。给出了学习率。</span></span><br><span class="line"><span class="string">在dart中，它还会影响dropped trees的归一化权重。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">num_leaves/num_leaf/max_leaves/max_leaf</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个整数，默认31，1&lt;该值&lt;=131072。一棵树的最大叶子数。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">tree_learner/tree/tree_type/tree_learner_type</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个枚举类型，给出了tree learner，主要用于并行学习。可以为：</span></span><br><span class="line"><span class="string">&#x27;serial&#x27;：默认值，单台机器的tree learner。</span></span><br><span class="line"><span class="string">&#x27;feature&#x27;：特征并行的tree learner。</span></span><br><span class="line"><span class="string">&#x27;data&#x27;：数据并行的tree learner。</span></span><br><span class="line"><span class="string">&#x27;voting&#x27;：投票并行的tree learner。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">num_threads/num_thread/nthread/nthreads/n_jobs</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个整数，默认0。LightGBM的线程数。</span></span><br><span class="line"><span class="string">为了更快的速度，应该将它设置为真正的CPU内核数，而不是线程的数量（大多数CPU使用超线程来使每个CPU内核生成2个线程）。</span></span><br><span class="line"><span class="string">当数据集较小的时候，不要将它设置的过大。</span></span><br><span class="line"><span class="string">对于并行学习，不应该使用全部的CPU核心，因为这会使得网络性能不佳。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">device_type/device</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个枚举类型，默认&#x27;cpu&#x27;。可选&#123;&#x27;cpu&#x27;, &#x27;gpu&#x27;, &#x27;cuda&#x27;&#125;。</span></span><br><span class="line"><span class="string">建议使用较小的max_bin来获得更快的计算速度。</span></span><br><span class="line"><span class="string">为了加快学习速度，GPU默认使用32位浮点数来求和。</span></span><br><span class="line"><span class="string">        你可以设置gpu_use_dp=True来启动64位浮点数，但是它会使得训练速度降低。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">seed/random_seed/random_state</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个整数，默认None。随机种子。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">deterministic </span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个布尔值，默认false。仅用于device_type=&#x27;cpu&#x27;。</span></span><br><span class="line"><span class="string">将此设置为true应确保使用相同数据和相同参数（和不同num_threads）时的稳定结果。</span></span><br><span class="line"><span class="string">当你使用不同的seed，不同的LightGBM版本，不同编译器编译的二进制文件，或者在不同的系统中，结果会有所不同。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<h2 id="学习控制参数"><a href="#学习控制参数" class="headerlink" title="学习控制参数"></a>学习控制参数</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br></pre></td><td class="code"><pre><span class="line">force_col_wise</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个布尔值，默认false。仅用于device_type=&#x27;cpu&#x27;。</span></span><br><span class="line"><span class="string">将此设置为true以强制构建col-wise直方图。</span></span><br><span class="line"><span class="string">当force_col_wise和force_row_wise都为false时，LightGBM都会尝试使用它们，然后选择速度最快的那个。</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">建议在下列情况下使用此功能：</span></span><br><span class="line"><span class="string">    列数很大/bin总数很大/num_threads很大。</span></span><br><span class="line"><span class="string">    你想降低内存成本。</span></span><br><span class="line"><span class="string">该参数不能与force_row_wise同时使用，只能选择其中之一。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">force_row_wise </span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个布尔值，默认false。仅用于device_type=&#x27;cpu&#x27;。</span></span><br><span class="line"><span class="string">将此设置为true以强制构建col-wise直方图。</span></span><br><span class="line"><span class="string">当force_col_wise和force_row_wise都为false时，LightGBM都会尝试使用它们，然后选择速度最快的那个。</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">建议在下列情况下使用此功能：</span></span><br><span class="line"><span class="string">    数据点数较多，bins总数相对较少。</span></span><br><span class="line"><span class="string">    num_threads比较小（&lt;=16）。</span></span><br><span class="line"><span class="string">    你想使用small bagging_fraction或goss boosting来加速。</span></span><br><span class="line"><span class="string">该参数不能与force_col_wise同时使用，只能选择其中之一。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">histogram_pool_size/hist_pool_size</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个浮点数，默认-1.0，&lt;0表示没有限制。历史直方图的最大缓存大小（以MB为单位）。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">max_depth</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个整数，默认值为-1，&lt;0表示没有限制。限制了树模型的最大深度。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">min_data_in_leaf/min_data_per_leaf/min_data/min_child_samples</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个整数，默认20，该值必须&gt;=0。表示一个叶子节点上包含的最少样本数量。处理过拟合。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">min_sum_hessian_in_leaf/min_sum_hessian_per_leaf/min_sum_hessian/min_hessian/ min_child_weight</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个浮点数，默认1e-3，该值必须&gt;=0.0。</span></span><br><span class="line"><span class="string">表示一个叶子节点上的最小hessian之和。也就是叶节点样本权重之和的最小值。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">bagging_fraction/sub_row/subsample/bagging</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个浮点数，默认1.0，0.0&lt;该值&lt;=1.0。</span></span><br><span class="line"><span class="string">如果小于1.0，则LightGBM会在每次迭代中随机选择部分样本来训练（非重复采样）。</span></span><br><span class="line"><span class="string">如0.8表示：在每棵树训练之前选择80%的样本（非重复采样）来训练。</span></span><br><span class="line"><span class="string">可以用来处理过拟​​合，加速训练。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">pos_bagging_fraction/pos_sub_row/pos_subsample/pos_bagging </span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个浮点数，默认1.0，0.0&lt;该值&lt;=1.0。将此设置为1.0以禁用。</span></span><br><span class="line"><span class="string">仅适用于objective=&#x27;binary&#x27;。应与neg_bagging_fraction一起使用。</span></span><br><span class="line"><span class="string">用于不平衡的二元分类问题，在bagging中会随机抽取pos_samples*pos_bagging_fraction正样本。</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">pos_bagging_fraction和neg_bagging_fraction设置为1.0，禁用balanced bagging。</span></span><br><span class="line"><span class="string">如果启用balanced bagging，则bagging_fraction被忽视。</span></span><br><span class="line"><span class="string">要启用此功能，还需要设置bagging_freq和neg_bagging_fraction 。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">neg_bagging_fraction/neg_sub_row/neg_subsample/neg_bagging</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个浮点数，默认1.0，0.0&lt;该值&lt;=1.0。将此设置为1.0以禁用。</span></span><br><span class="line"><span class="string">仅适用于objective=&#x27;binary&#x27;。应与pos_bagging_fraction一起使用。</span></span><br><span class="line"><span class="string">用于不平衡二元分类问题，将在bagging中随机抽取neg_samples*neg_bagging_fraction负样本。</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">pos_bagging_fraction和neg_bagging_fraction设置为1.0，禁用balanced bagging。</span></span><br><span class="line"><span class="string">如果启用balanced bagging，则bagging_fraction被忽视。</span></span><br><span class="line"><span class="string">要启用此功能，还需要设置bagging_freq和pos_bagging_fraction。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">bagging_freq/subsample_freq</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个整数，默认0。bagging执行的频率，表示每bagging_freq次执行bagging。</span></span><br><span class="line"><span class="string">如果该参数为0，表示禁用bagging。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">bagging_seed/bagging_fraction_seed</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个整数，，默认为3，表示bagging的随机数种子。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">feature_fraction/sub_feature/colsample_bytree</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个浮点数，默认1.0，0.0&lt;该值&lt;=1.0。</span></span><br><span class="line"><span class="string">如果小于1.0，则LightGBM会在每次迭代中随机选择部分特征。</span></span><br><span class="line"><span class="string">如0.8表示：在每棵树训练之前选择80%的特征来训练。</span></span><br><span class="line"><span class="string">可以用来处理过拟​​合，加速训练。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">feature_fraction_bynode/sub_feature_bynode/colsample_bynode</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个浮点数，默认1.0，0.0&lt;该值&lt;=1.0。</span></span><br><span class="line"><span class="string">如果小于1.0，则LightGBM会在每个树节点上随机选择部分特征。</span></span><br><span class="line"><span class="string">如0.8表示：在每棵树节点处选择80%的特征来训练。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">feature_fraction_seed </span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个整数，默认2。feature_fraction的随机种子。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">extra_trees/extra_tree</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个布尔值，默认false。极其随机树（太随机了）。</span></span><br><span class="line"><span class="string">如果设置为true，当评估节点分裂时LightGBM将只检查每个特征的一个随机选择的阈值。</span></span><br><span class="line"><span class="string">可以用来处理过拟​​合，加速训练。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">extra_seed </span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个整数，默认6。extra_trees的随机种子。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">early_stopping_round/early_stopping_rounds/early_stopping/n_iter_no_change</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个整数，默认0，该值&lt;=0不开启早停。</span></span><br><span class="line"><span class="string">如果一个验证集的度量在early_stopping_round循环中没有提升，则停止训练。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">first_metric_only </span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个布尔值，默认false。</span></span><br><span class="line"><span class="string">LightGBM允许提供多个评估指标。如果只想使用第一个指标进行提前停止，将此设置为true。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">max_delta_step/max_tree_output/max_leaf_output</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个浮点数，默认0.0，该值&lt;=0无限制。用于限制树叶的最大输出。</span></span><br><span class="line"><span class="string">叶子的最终最大输出是learning_rate*max_delta_step。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">lambda_l1/reg_alpha</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个浮点数，默认0.0，该值必须&gt;=0.0。表示L1正则化系数。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">lambda_l2/reg_lambda/<span class="keyword">lambda</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个浮点数，默认0.0，该值必须&gt;=0.0。表示L2正则化系数。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">linear_lambda </span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个浮点数，默认0.0，该值必须&gt;=0.0。</span></span><br><span class="line"><span class="string">线性树正则化，对应于等式中的参数lambda。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">min_gain_to_split/min_split_gain</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个浮点数，默认0.0，该值必须&gt;=0.0。表示执行切分的最小增益。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">drop_rate </span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个浮点数，默认0.1，0.0&lt;=该值&lt;=1.0。仅用于&#x27;dart&#x27;。表示dropout的比例。</span></span><br><span class="line"><span class="string">dropout rate：在dropout期间要丢弃的先前树的一小部分。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">max_drop </span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个整数，默认50，&lt;=0无限制。仅用于&#x27;dart&#x27;。表示一次迭代中删除树的最大数量。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">skip_drop </span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个浮点数，默认0.5，0.0&lt;=该值&lt;=1.0。仅用于&#x27;dart&#x27;。表示跳过dropout的概率。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">xgboost_dart_mode </span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个布尔值，默认false。仅用于&#x27;dart&#x27;。表示是否使用xgboost dart模式。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">uniform_drop </span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个布尔值，默认false。仅用于&#x27;dart&#x27;。表示是否想要均匀的删除树。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">drop_seed</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个整数，默认4。仅用于&#x27;dart&#x27;。表示dropout的随机数种子。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">top_rate </span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个浮点数，默认0.2，0.0&lt;=该值&lt;=1.0。仅用于&#x27;goss&#x27;。大梯度数据的保留比例。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">other_rate </span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个浮点数，默认0.1，0.0&lt;=该值&lt;=1.0。仅用于&#x27;goss&#x27;。小梯度数据的保留比例。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">min_data_per_group </span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个整数，默认100，该值必须&gt;0。表示每个分类组的最小数据量。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">max_cat_threshold </span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个整数，默认32，该值必须&gt;0。限制分类特征的最大阈值。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">cat_l2</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个浮点数，默认10.0，该值必须&gt;=0。用于分类特征的概率平滑。</span></span><br><span class="line"><span class="string">分类切分中的L2正则。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">cat_smooth </span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个浮点数，默认10.0，该值必须&gt;=0。用于分类特征的概率平滑。</span></span><br><span class="line"><span class="string">这可以降低噪声在分类特征中的影响, 尤其是对数据很少的类别。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">max_cat_to_onehot</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个整数，默认4，该值必须&gt;0。</span></span><br><span class="line"><span class="string">当一个特征的类别数小于或等于max_cat_to_onehot时，将使用one-vs-other切分算法。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">top_k/topk</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个整数，默认20，该值必须&gt;0。</span></span><br><span class="line"><span class="string">被使用在 Voting parallel 中。</span></span><br><span class="line"><span class="string">将它设置为更大的值可以获得更精确的结果, 但会减慢训练速度。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<h2 id="IO参数"><a href="#IO参数" class="headerlink" title="IO参数"></a>IO参数</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line">max_bin</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个整数，默认255。表示最大的桶的数量。</span></span><br><span class="line"><span class="string">LightGBM会根据它来自动压缩内存。如max_bin=255时，将使用uint8来表示特征的每一个值。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">max_bin_by_feature</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个整数，默认None。每个特征的最大箱数。</span></span><br><span class="line"><span class="string">如果未指定，将对每个也正使用max_bin。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">min_data_in_bin </span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个整数，默认3。表示每个桶的最小样本数。</span></span><br><span class="line"><span class="string">该方法可以避免出现一个桶只有一个样本的情况。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">bin_construct_sample_cnt/subsample_for_bin</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个整数，默认200000，该值必须&gt;0。采样以构建特征离散箱的数据数量。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">data_random_seed </span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个整数，默认1。表示并行学习数据分隔中的随机数种子。</span></span><br><span class="line"><span class="string">它不包括特征并行。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">is_enable_sparse/is_sparse/enable_sparse/sparse</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个布尔值，默认true。是否开启稀疏优化。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">enable_bundle/is_enable_bundle/bundle</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个布尔值，默认true。</span></span><br><span class="line"><span class="string">将此设置为false以禁用Exclusive Feature Bundling (EFB)。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">use_missing </span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个布尔值，默认true。</span></span><br><span class="line"><span class="string">将此设置为false以禁用缺失值的特殊处理，</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">zero_as_missing</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个布尔值，默认false。</span></span><br><span class="line"><span class="string">将此设置为true以将所有零值视为缺失值（包括LibSVM/稀疏矩阵中未显示的值）。</span></span><br><span class="line"><span class="string">如果为False，则将np.nan视作缺失值。</span></span><br><span class="line"><span class="string">如果为True，则np.nan 和零都将视作缺失值。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">feature_pre_filter </span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个布尔值，默认true。</span></span><br><span class="line"><span class="string">将此设置为true以告诉LightGBM忽略基于min_data_in_leaf不可分割的特征。</span></span><br><span class="line"><span class="string">将此设置为false可能会减慢训练速度。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">pre_partition/is_pre_partition</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个布尔值，默认false。指示数据是否已经被划分。</span></span><br><span class="line"><span class="string">如果为true，则不同的机器使用不同的partition来训练。</span></span><br><span class="line"><span class="string">用于分布式学习（不包括feature_parallel模式）。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">two_round/two_round_loading/use_two_round_loading</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">个布尔值，默认false。指示是否启动两次加载。false表示只需要进行一次加载。</span></span><br><span class="line"><span class="string">默认情况下，LightGBM 会将数据文件映射到内存，然后从内存加载特征，</span></span><br><span class="line"><span class="string">        这将提供更快的数据加载速度。但是当数据文件很大时，内存可能会被耗尽。</span></span><br><span class="line"><span class="string">如果数据文件太大，则将它设置为True。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">header/has_header</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个布尔值，默认false。表示输入数据是否有头部。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">label_column/label</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个整数/字符串，默认&quot;&quot;。表示标签列。</span></span><br><span class="line"><span class="string">可以指定一个整数，如label=0表示第0列是标签列。</span></span><br><span class="line"><span class="string">可以为列名添加前缀，如label=prefix:label_name。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">weight_column/weight</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个整数/字符串，默认&quot;&quot;。表示样本权重列。</span></span><br><span class="line"><span class="string">可以指定一个整数，如weight=0表示第0列是权重列。注意：它是剔除了标签列之后的索引。</span></span><br><span class="line"><span class="string">        假如标签列为0，权重列为1，则这里weight=0。</span></span><br><span class="line"><span class="string">可以为列名添加前缀，如weight=prefix:weight_name。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<h2 id="度量参数"><a href="#度量参数" class="headerlink" title="度量参数"></a>度量参数</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">metric/metrics/metric_types</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个字符串，指定了度量的指标，默认为&quot;&quot;。</span></span><br><span class="line"><span class="string">&#x27;l1&#x27;&#x27;/mean_absolute_error&#x27;/&#x27;mae&#x27;/&#x27;regression_l1&#x27;：表示绝对值损失。</span></span><br><span class="line"><span class="string">&#x27;l2&#x27;/&#x27;mean_squared_error&#x27;&#x27;/mse&#x27;/&#x27;regression_l2&#x27;/&#x27;regression&#x27;：表示平方损失。</span></span><br><span class="line"><span class="string">&#x27;l2_root&#x27;/&#x27;root_mean_squared_error&#x27;/&#x27;rmse&#x27;：表示开方损失。</span></span><br><span class="line"><span class="string">&#x27;quantile&#x27;：表示Quantile回归中的损失。</span></span><br><span class="line"><span class="string">&#x27;mape&#x27;/&#x27;mean_absolute_percentage_error&#x27;：表示MAPE损失。</span></span><br><span class="line"><span class="string">&#x27;huber&#x27;：表示huber损失。</span></span><br><span class="line"><span class="string">&#x27;fair&#x27;：表示fair损失。</span></span><br><span class="line"><span class="string">&#x27;poisson&#x27;：表示poisson 回归的负对数似然。</span></span><br><span class="line"><span class="string">&#x27;gamma&#x27;：表示gamma 回归的负对数似然。</span></span><br><span class="line"><span class="string">&#x27;gamma_deviance&#x27;：表示gamma回归的残差的方差。</span></span><br><span class="line"><span class="string">&#x27;tweedie&#x27;：表示Tweedie 回归的负对数似然。</span></span><br><span class="line"><span class="string">&#x27;ndcg&#x27;：表示NDCG。</span></span><br><span class="line"><span class="string">&#x27;map&#x27;/&#x27;mean_average_precision&#x27;：表示平均的精度。</span></span><br><span class="line"><span class="string">&#x27;auc&#x27;：表示AUC。</span></span><br><span class="line"><span class="string">&#x27;binary_logloss&#x27;/&#x27;binary&#x27;：表示二类分类中的对数损失函数。</span></span><br><span class="line"><span class="string">&#x27;binary_error&#x27;：表示二类分类中的分类错误率。</span></span><br><span class="line"><span class="string">&#x27;multi_logloss&#x27;/&#x27;multiclass&#x27;/&#x27;softmax&#x27;/&#x27;multiclassova&#x27;/&#x27;multiclass_ova&#x27;/&#x27;ova&#x27;/&#x27;ovr&#x27;：</span></span><br><span class="line"><span class="string">        表示多类分类中的对数损失函数。</span></span><br><span class="line"><span class="string">&#x27;multi_error&#x27;：表示多分类中的分类错误率。</span></span><br><span class="line"><span class="string">&#x27;xentropy&#x27;/&#x27;cross_entropy&#x27;：表示交叉熵。</span></span><br><span class="line"><span class="string">&#x27;xentlambda&#x27;/&#x27;cross_entropy_lambda&#x27;：表示intensity加权的交叉熵。</span></span><br><span class="line"><span class="string">&#x27;kldiv&#x27;/&#x27;kullback_leibler&#x27;：表示KL散度。</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">如果有多个度量指标，则用逗号, 分隔。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">metric_freq/output_freq</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个整数，默认1，该值必须&gt;0。表示每隔多少次输出一次度量结果。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">is_provide_training_metric/training_metric/is_training_metric/train_metric</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个布尔值，默认false。如果为True，则在训练时就输出度量结果。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">eval_at/ndcg_eval_at/ndcg_at/map_eval_at/map_at</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个整数列表，默认1,2,3,4,5。指定了NDCG和MAP评估点的位置。</span></span><br><span class="line"><span class="string">仅适用于metric=&#x27;ndcg&#x27;/&#x27;map&#x27;。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">multi_error_top_k </span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个整数，默认1，该值必须&gt;0。top-k个multi-error metric阈值。</span></span><br><span class="line"><span class="string">仅适用于metric=&#x27;multi_error&#x27;。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">auc_mu_weights </span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个布尔值，默认None。表示扁平矩阵的列表（按行主顺序）给出分类错误的损失权重。</span></span><br><span class="line"><span class="string">仅适用于metric=&#x27;auc_mu&#x27;。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<h2 id="网格参数"><a href="#网格参数" class="headerlink" title="网格参数"></a>网格参数</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">num_machines/num_machine</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个整数，默认1，该值必须&gt;0。表示并行学习的机器的数量。</span></span><br><span class="line"><span class="string">socket和mpi版本都需要设置这个参数。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">local_listen_port/local_port/port</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个整数，默认12400，该值必须&gt;0。表示监听本地机器的端口号。</span></span><br><span class="line"><span class="string">训练之前，你应该在防火墙中开放该端口。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">time_out </span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个整数，默认120，该值必须&gt;0。表示允许socket的超时时间（单位：分钟）。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">machine_list_filename/machine_list_file/machine_list/mlist</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个字符串，默认&quot;&quot;。指示了并行学习的机器列表文件的文件名。</span></span><br><span class="line"><span class="string">该文件每一行包含一个IP和端口号。格式是ip port，以空格分隔。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">machines/workers/nodes</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个字符串，默认&quot;&quot;。指示了机器列表，格式ip1:port1,ip2:port2</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<h2 id="GPU参数"><a href="#GPU参数" class="headerlink" title="GPU参数"></a>GPU参数</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">gpu_platform_id </span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个整数，默认-1。表示OpenCL platform ID。</span></span><br><span class="line"><span class="string">通常每个GPU供应商都会公开一个OpenCL platform。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">gpu_device_id </span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个整数，默认-1。表示设备ID。</span></span><br><span class="line"><span class="string">在选定的platform上，每个GPU都有一个唯一的设备ID。-1表示选定platform上的默认设备。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">gpu_use_dp </span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个布尔值，默认fasle。</span></span><br><span class="line"><span class="string">如果为True， 则在GPU上计算时使用双精度（否则使用单精度）。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">num_gpu </span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个整数，默认1，该值必须&gt;0。GPU的数量。</span></span><br><span class="line"><span class="string">只能在CUDA中使用。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<h1 id="Scikit-Learn-API"><a href="#Scikit-Learn-API" class="headerlink" title="Scikit-Learn API"></a>Scikit-Learn API</h1><p>参考官网<span class="exturl" data-url="aHR0cHM6Ly9saWdodGdibS5yZWFkdGhlZG9jcy5pby9lbi9sYXRlc3QvUHl0aG9uLUFQSS5odG1sI3NjaWtpdC1sZWFybi1hcGk=">Python API<i class="fa fa-external-link-alt"></i></span>。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br></pre></td><td class="code"><pre><span class="line">lightgbm.LGBMModel(boosting_type=<span class="string">&#x27;gbdt&#x27;</span>, num_leaves=<span class="number">31</span>, max_depth=- <span class="number">1</span>, </span><br><span class="line">learning_rate=<span class="number">0.1</span>, n_estimators=<span class="number">100</span>, subsample_for_bin=<span class="number">200000</span>, objective=<span class="literal">None</span>, </span><br><span class="line">class_weight=<span class="literal">None</span>, min_split_gain=<span class="number">0.0</span>, min_child_weight=<span class="number">0.001</span>, min_child_samples=<span class="number">20</span>, </span><br><span class="line">subsample=<span class="number">1.0</span>, subsample_freq=<span class="number">0</span>, colsample_bytree=<span class="number">1.0</span>, reg_alpha=<span class="number">0.0</span>, reg_lambda=<span class="number">0.0</span>, </span><br><span class="line">random_state=<span class="literal">None</span>, n_jobs=- <span class="number">1</span>, silent=<span class="literal">True</span>, importance_type=<span class="string">&#x27;split&#x27;</span>, **kwargs)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">boosting_type：一个字符串，指定了基学习器的算法。 可以为：</span></span><br><span class="line"><span class="string">              &#x27;gbdt&#x27;：默认值，传统的梯度提升决策树。</span></span><br><span class="line"><span class="string">              &#x27;rf&#x27;：随机森林。</span></span><br><span class="line"><span class="string">              &#x27;dart&#x27;：带dropout的gbdt。</span></span><br><span class="line"><span class="string">              &#x27;goss&#x27;：Gradient-based One-Side Sampling的gbdt。</span></span><br><span class="line"><span class="string">num_leaves：一个整数，给出了一棵树上的叶子数。默认为31。</span></span><br><span class="line"><span class="string">max_depth：一个整数，限制了树模型的最大深度，默认值为-1。如果小于0，则表示没有限制。</span></span><br><span class="line"><span class="string">learning_rate：一个浮点数，给出了学习率。默认为0.1。</span></span><br><span class="line"><span class="string">n_estimators：一个整数，给出了boosted trees的数量。默认为100。</span></span><br><span class="line"><span class="string">subsample_for_bin：一个整数，表示用来构建直方图的样本的数量。默认为200000。</span></span><br><span class="line"><span class="string">objective： 一个字符串/可调用对象/None，表示问题类型以及对应的目标函数。</span></span><br><span class="line"><span class="string">        默认为None，此时对于LGBMRegressor为&#x27;regression&#x27;；</span></span><br><span class="line"><span class="string">            对于LGBMClassifier为&#x27;binary&#x27;/&#x27;multiclass&#x27;；</span></span><br><span class="line"><span class="string">            对于LGBMRanker为&#x27;lambdarank&#x27;。</span></span><br><span class="line"><span class="string">        如果为自定义的可调用对象，则它的签名为：objective(y_true, y_pred) -&gt; grad, hess；</span></span><br><span class="line"><span class="string">                或者签名为：objective(y_true, y_pred, group) -&gt; grad, hess。其中：</span></span><br><span class="line"><span class="string">                y_true：一个形状为(n_samples,)，对于多类分类问题，</span></span><br><span class="line"><span class="string">                        则是(n_samples,n_classes)的array-like对象，给出了真实的标签值。</span></span><br><span class="line"><span class="string">                y_pred：一个形状为(n_samples,)，对于多类分类问题，</span></span><br><span class="line"><span class="string">                        则是(n_samples,n_classes)的array-like对象，给出了预测的标签值。</span></span><br><span class="line"><span class="string">                group：一个array-like对象，给出了数据的分组信息。它用于ranking任务。</span></span><br><span class="line"><span class="string">                grad：一个形状为(n_samples,)，对于多类分类问题，</span></span><br><span class="line"><span class="string">                        则是(n_samples,n_classes)的array-like对象，给出了每个样本的梯度值。</span></span><br><span class="line"><span class="string">                hess：一个形状为(n_samples,)，对于多类分类问题，</span></span><br><span class="line"><span class="string">                        则是(n_samples,n_classes)的array-like对象，给出了每个样本的二阶导数值。</span></span><br><span class="line"><span class="string">class_weight：给出了每个类别的权重占比。</span></span><br><span class="line"><span class="string">        &#x27;balanced&#x27;：此时类别权重反比与类别的频率。</span></span><br><span class="line"><span class="string">        字典：此时人工给出了每个类别的权重。</span></span><br><span class="line"><span class="string">        None：则认为每个类别的比例一样。</span></span><br><span class="line"><span class="string">        该参数仅用于多类分类问题。对于二类分类问题，可以使用is_unbalance参数。</span></span><br><span class="line"><span class="string">min_split_gain：一个浮点数，表示执行切分的最小增益，默认为0。</span></span><br><span class="line"><span class="string">min_child_weight：一个浮点数，表示一个叶子节点上的最小hessian之和。</span></span><br><span class="line"><span class="string">                  也就是叶节点样本权重之和的最小值，默认为1e-3。</span></span><br><span class="line"><span class="string">min_child_samples：一个整数，表示一个叶子节点上包含的最少样本数量。默认值为20。</span></span><br><span class="line"><span class="string">subsample：一个浮点数，表示训练样本的采样比例。参考学习控制参数-&gt;subsample。</span></span><br><span class="line"><span class="string">subsample_freq：一个浮点数，表示训练样本的采样频率。参考学习控制参数-&gt;subsample_freq。</span></span><br><span class="line"><span class="string">colsample_bytree：一个浮点数，表示特征的采样比例。参考学习控制参数-&gt;colsample_bytree。</span></span><br><span class="line"><span class="string">reg_alpha：一个浮点数，表示L1正则化系数。默认为0。</span></span><br><span class="line"><span class="string">reg_lambda：一个浮点数，表示L2正则化系数。默认为0</span></span><br><span class="line"><span class="string">random_state：一个整数/None，表示随机数种子。默认为None，则使用默认的种子。</span></span><br><span class="line"><span class="string">n_jobs：一个整数，指定并行的线程数量。默认为-1，则表示使用所有的CPU。</span></span><br><span class="line"><span class="string">silent：一个布尔值，指示是否在训练过程中屏蔽输出。默认为True。</span></span><br><span class="line"><span class="string">importance_type：要填充到feature_importances_中的特征重要性类型。</span></span><br><span class="line"><span class="string">                &#x27;split&#x27;：则结果包含该特征在模型中使用的次数。</span></span><br><span class="line"><span class="string">                &#x27;gain&#x27;：结果包含使用该特征的分割的总增益。</span></span><br><span class="line"><span class="string">kwargs：其它的参数。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 属性</span></span><br><span class="line">n_features_</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个整数，给出了特征的数量。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">classes_</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个形状为(n_classes,)的numpy array，给出了样本的标签。</span></span><br><span class="line"><span class="string">仅仅在分类问题中有效。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">n_classes_</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个整数，给出了类别的数量。</span></span><br><span class="line"><span class="string">仅仅在分类问题中有效。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">best_score_</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个字典/None，给出了训练完毕模型的最好的score。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">best_iteration_</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个字典/None，当early_stopping_round参数设定时，它给出了训练完毕模型的最好的迭代步。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">objective_</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个字符串/可调用对象，给出了训练模型的目标函数。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">booster_</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个Booster对象，给出了底层的Booster对象。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">evals_result_</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个字典/None。当early_stopping_round参数设定时，它给出了模型的evaluation results。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">feature_importances_</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">一个形状为(n_features,)的numpy array，给出了特征的重要性。</span></span><br><span class="line"><span class="string">值越大，则对于的特征越重要。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 方法</span></span><br><span class="line">apply(X,num_iteration=<span class="number">0</span>)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">预测每个样本在每个树的哪个叶节点上。</span></span><br><span class="line"><span class="string">X： 一个array-like对象/一个sparse matrix，其形状为(n_samples,n_features)，表示测试样本集。</span></span><br><span class="line"><span class="string">num_iteration：一个整数，指示在预测时，使用多少个子树。默认为0，表示使用所有的子树。</span></span><br><span class="line"><span class="string">返回值：一个array-like对象，形状为(n_samples,n_trees)。它给出了每个样本在每个子树的哪个节点上。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">fit(X, y, sample_weight=<span class="literal">None</span>, init_score=<span class="literal">None</span>, group=<span class="literal">None</span>, eval_set=<span class="literal">None</span>, </span><br><span class="line">eval_names=<span class="literal">None</span>, eval_sample_weight=<span class="literal">None</span>, eval_class_weight=<span class="literal">None</span>, </span><br><span class="line">eval_init_score=<span class="literal">None</span>, eval_group=<span class="literal">None</span>, eval_metric=<span class="literal">None</span>, </span><br><span class="line">early_stopping_rounds=<span class="literal">None</span>, verbose=<span class="literal">True</span>, feature_name=<span class="string">&#x27;auto&#x27;</span>, </span><br><span class="line">categorical_feature=<span class="string">&#x27;auto&#x27;</span>, callbacks=<span class="literal">None</span>, init_model=<span class="literal">None</span>)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">X：一个array-like对象/一个sparse matrix，其形状为(n_samples,n_features)，表示训练样本集。</span></span><br><span class="line"><span class="string">y：一个array-like对象，形状为(n_samples,)，给出了标签值。</span></span><br><span class="line"><span class="string">sample_weight：一个形状为(n_samples,)的array-like对象/None。给出了每个训练样本的权重。默认为None</span></span><br><span class="line"><span class="string">init_score：一个形状为(n_samples,)的array-like对象/None。给出了每个训练样本的init score。默认为None。</span></span><br><span class="line"><span class="string">group：一个形状为(n_samples,)的array-like对象/None。给出了每个训练样本的分组。默认为None。</span></span><br><span class="line"><span class="string">eval_set：一个元素为(X,y)的列表/None。其中X,y的类型与参数X,y相同。给出了验证集，用于早停。默认为None。</span></span><br><span class="line"><span class="string">eval_names：一个字符串的列表/None。给出了每个验证集的名字。默认为None。</span></span><br><span class="line"><span class="string">eval_sample_weight：一个array-like的列表/None。给出了每个验证集中，每个样本的权重。默认为None。</span></span><br><span class="line"><span class="string">eval_class_weight：一个list/None。给出了每个验证集中，每个类的权重。默认为None。</span></span><br><span class="line"><span class="string">eval_init_score：一个array-like的列表/None。给出了每个验证集中，每个样本的init score。默认为None。</span></span><br><span class="line"><span class="string">eval_group：一个array-like的列表/None。给出了每个验证集中，每个样本的分组。默认为None。</span></span><br><span class="line"><span class="string">eval_metric：一个字符串/字符串列表/调用对象/None。给出了验证的metric。默认为None。</span></span><br><span class="line"><span class="string">early_stopping_rounds：一个整数/None，默认为None。参考lightgbm.train()。</span></span><br><span class="line"><span class="string">verbose：一个布尔值。如果为True，并且至少有一个验证集，则输出evaluation信息。</span></span><br><span class="line"><span class="string">feature_name：一个字符串列表/&#x27;auto&#x27;。参考lightgbm.train()。</span></span><br><span class="line"><span class="string">categorical_feature：一个字符串列表/整数/&#x27;auto&#x27;。参考lightgbm.train()。</span></span><br><span class="line"><span class="string">callbacks：一个可调用对象的列表/None。参考lightgbm.train()。</span></span><br><span class="line"><span class="string">init_model：LightGBM模型的文件名，用于继续训练的Booster实例或LGBMModel实例。</span></span><br><span class="line"><span class="string">返回值：当前LGBMModel对象自己。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">predict(X, raw_score=<span class="literal">False</span>, start_iteration=<span class="number">0</span>, num_iteration=<span class="literal">None</span>, </span><br><span class="line">pred_leaf=<span class="literal">False</span>, pred_contrib=<span class="literal">False</span>, **kwargs)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">X：一个array-like对象/一个sparse matrix，其形状为(n_samples,n_features)，表示测试样本集。</span></span><br><span class="line"><span class="string">   注意：如果是numpy array/pandas dataframe时，要求数据的列必须与训练时的列顺序一致。</span></span><br><span class="line"><span class="string">raw_score：一个布尔值，指示是否输出raw score。默认为False。</span></span><br><span class="line"><span class="string">start_iteration：一个整数，要预测的迭代的开始索引。如果&lt;=0，则从第一次迭代开始。默认为0。</span></span><br><span class="line"><span class="string">num_iteration：一个整数，指示在预测时，使用多少个子树。默认为0，表示使用所有的子树。</span></span><br><span class="line"><span class="string">pred_leaf：一个布尔值，是否预测leaf index。默认False。</span></span><br><span class="line"><span class="string">pred_contrib：一个布尔值，是否预测特征贡献度。默认False。</span></span><br><span class="line"><span class="string">返回值：一个形状为(n_samples,)/形状为(n_samples,n_classed)的array-like对象，表示预测结果。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">lightgbm.LGBMClassifier(boosting_type=<span class="string">&#x27;gbdt&#x27;</span>, num_leaves=<span class="number">31</span>, max_depth=- <span class="number">1</span>, </span><br><span class="line">learning_rate=<span class="number">0.1</span>, n_estimators=<span class="number">100</span>, subsample_for_bin=<span class="number">200000</span>, </span><br><span class="line">objective=<span class="literal">None</span>, class_weight=<span class="literal">None</span>, min_split_gain=<span class="number">0.0</span>, min_child_weight=<span class="number">0.001</span>, </span><br><span class="line">min_child_samples=<span class="number">20</span>, subsample=<span class="number">1.0</span>, subsample_freq=<span class="number">0</span>, colsample_bytree=<span class="number">1.0</span>, </span><br><span class="line">reg_alpha=<span class="number">0.0</span>, reg_lambda=<span class="number">0.0</span>, random_state=<span class="literal">None</span>, n_jobs=- <span class="number">1</span>, silent=<span class="literal">True</span>, </span><br><span class="line">importance_type=<span class="string">&#x27;split&#x27;</span>, **kwargs)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">参数、属性、方法，参考LGBMModel。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">lightgbm.LGBMRegressor(boosting_type=<span class="string">&#x27;gbdt&#x27;</span>, num_leaves=<span class="number">31</span>, max_depth=<span class="number">-1</span>, </span><br><span class="line">learning_rate=<span class="number">0.1</span>, n_estimators=<span class="number">100</span>, subsample_for_bin=<span class="number">200000</span>,</span><br><span class="line">objective=<span class="literal">None</span>, class_weight=<span class="literal">None</span>, min_split_gain=<span class="number">0.0</span>, min_child_weight=<span class="number">0.001</span>, </span><br><span class="line">min_child_samples=<span class="number">20</span>, subsample=<span class="number">1.0</span>, subsample_freq=<span class="number">0</span>, colsample_bytree=<span class="number">1.0</span>, </span><br><span class="line">reg_alpha=<span class="number">0.0</span>, reg_lambda=<span class="number">0.0</span>, random_state=<span class="literal">None</span>, n_jobs=- <span class="number">1</span>, silent=<span class="literal">True</span>, </span><br><span class="line">importance_type=<span class="string">&#x27;split&#x27;</span>, **kwargs)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">参数、属性、方法，参考LGBMModel。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">lightgbm.LGBMRanker(boosting_type=<span class="string">&#x27;gbdt&#x27;</span>, num_leaves=<span class="number">31</span>, max_depth=<span class="number">-1</span>, </span><br><span class="line">learning_rate=<span class="number">0.1</span>, n_estimators=<span class="number">100</span>, subsample_for_bin=<span class="number">200000</span>, objective=<span class="literal">None</span>,</span><br><span class="line">class_weight=<span class="literal">None</span>, min_split_gain=<span class="number">0.0</span>, min_child_weight=<span class="number">0.001</span>,</span><br><span class="line">min_child_samples=<span class="number">20</span>, subsample=<span class="number">1.0</span>, subsample_freq=<span class="number">0</span>, colsample_bytree=<span class="number">1.0</span>, </span><br><span class="line">reg_alpha=<span class="number">0.0</span>, reg_lambda=<span class="number">0.0</span>, random_state=<span class="literal">None</span>, n_jobs=- <span class="number">1</span>, silent=<span class="literal">True</span>, </span><br><span class="line">importance_type=<span class="string">&#x27;split&#x27;</span>, **kwargs)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">参数、属性、方法，参考LGBMModel。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
    </div>

    
    
    
      
  <div class="popular-posts-header">相关文章</div>
  <ul class="popular-posts">
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="\2020\04\20\Machine Learning\00.ML-机器学习？\" rel="bookmark">ML-机器学习？</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="\2020\06\10\Machine Learning\11.ML-数据分析\" rel="bookmark">ML-数据分析</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="\2020\09\20\Machine Learning\16.Introduction\" rel="bookmark">Introduction</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="\2020\09\28\Machine Learning\20.DimentionReduction\" rel="bookmark">DimentionReduction</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="\2020\09\21\Machine Learning\17.MathBasics\" rel="bookmark">MathBasics</a></div>
    </li>
  </ul>


    <footer class="post-footer">
          

<div class="post-copyright">
<ul>
  <li class="post-copyright-author">
      <strong>本文作者： </strong>SoundMemories
  </li>
  <li class="post-copyright-link">
      <strong>本文链接：</strong>
      <a href="https://soundmemories.github.io/2020/06/06/Machine%20Learning/10.ML-LightGBM/" title="ML-LightGBM">https://soundmemories.github.io/2020/06/06/Machine Learning/10.ML-LightGBM/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC8="><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</span> 许可协议。转载请注明出处！
  </li>
</ul>
</div>

          <div class="post-tags">
              <a href="/tags/Machine-Learning/" rel="tag"><i class="fa fa-tag"></i> Machine Learning</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2020/05/28/Machine%20Learning/09.ML-XGBoost/" rel="prev" title="ML-XGBoost">
                  <i class="fa fa-chevron-left"></i> ML-XGBoost
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2020/06/10/Machine%20Learning/11.ML-%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/" rel="next" title="ML-数据分析">
                  ML-数据分析 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






      

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

    </div>
  </main>

  <footer class="footer">
    <div class="footer-inner">
      

      

<div class="copyright">
  
  &copy; 2019 – 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">SoundMemories</span>
</div>
  <div class="powered-by">由 <span class="exturl theme-link" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & <span class="exturl theme-link" data-url="aHR0cHM6Ly90aGVtZS1uZXh0LmpzLm9yZy9tdXNlLw==">NexT.Muse</span> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="//cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/@next-theme/pjax@0.4.0/pjax.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script>
  <script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '.page-configurations',
    '.main-inner',
    '.post-toc-wrap',
    '.languages',
    '.pjax'
  ],
  analytics: false,
  cacheBust: false,
  scrollRestoration: false,
  scrollTo: !CONFIG.bookmark.enable
});

document.addEventListener('pjax:success', () => {
  pjax.executeScripts(document.querySelectorAll('script[data-pjax], .pjax script'));
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  const hasTOC = document.querySelector('.post-toc');
  document.querySelector('.sidebar-inner').classList.toggle('sidebar-nav-active', hasTOC);
  document.querySelector(hasTOC ? '.sidebar-nav-toc' : '.sidebar-nav-overview').click();
  NexT.utils.updateSidebarPosition();
});
</script>


  




  <script src="/js/local-search.js"></script>








<script data-pjax>
document.querySelectorAll('.pdfobject-container').forEach(element => {
  const url = element.dataset.target;
  const pdfOpenParams = {
    navpanes : 0,
    toolbar  : 0,
    statusbar: 0,
    pagemode : 'thumbs',
    view     : 'FitH'
  };
  const pdfOpenFragment = '#' + Object.entries(pdfOpenParams).map(([key, value]) => `${key}=${encodeURIComponent(value)}`).join('&');
  const fullURL = `/lib/pdf/web/viewer.html?file=${encodeURIComponent(url)}${pdfOpenFragment}`;

  if (NexT.utils.supportsPDFs()) {
    element.innerHTML = `<embed class="pdfobject" src="${url + pdfOpenFragment}" type="application/pdf" style="height: ${element.dataset.height};">`;
  } else {
    element.innerHTML = `<iframe src="${fullURL}" style="height: ${element.dataset.height};" frameborder="0"></iframe>`;
  }
});
</script>


<script data-pjax>
if (document.querySelectorAll('.mermaid').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mermaid@8.8.2/dist/mermaid.min.js', () => {
    mermaid.init({
      theme    : 'neutral',
      logLevel : 3,
      flowchart: { curve     : 'linear' },
      gantt    : { axisFormat: '%m/%d/%Y' },
      sequence : { actorMargin: 50 }
    }, '.mermaid');
  }, window.mermaid);
}
</script>





  








    <div class="pjax">
  

  
      <script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              const target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    const script = document.createElement('script');
    script.src = '//cdn.jsdelivr.net/npm/mathjax@3.1.2/es5/tex-mml-chtml.js';
    script.defer = true;
    document.head.appendChild(script);
  } else {
    MathJax.startup.document.state(0);
    MathJax.typesetClear();
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  
  <script src="//cdn.jsdelivr.net/npm/quicklink@2.0.0/dist/quicklink.umd.js"></script>
  <script>
      window.addEventListener('load', () => {
      quicklink.listen({
        timeout : 3000,
        priority: true,
        ignores : [uri => uri.includes('#'),uri => uri === 'https://soundmemories.github.io/2020/06/06/Machine%20Learning/10.ML-LightGBM/',]
      });
      });
  </script>

    </div>
</body>
</html>
